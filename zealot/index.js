// Copyright 2018-2020 the Deno authors. All rights reserved. MIT license.
// This is a specialised implementation of a System module loader.
"use strict";// @ts-nocheck
/* eslint-disable */Object.defineProperty(exports,"__esModule",{value:true});exports.createZealotMock=exports.createZealot=void 0;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap();_getRequireWildcardCache=function _getRequireWildcardCache(){return cache;};return cache;}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest();}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _awaitAsyncGenerator(value){return new _AwaitValue(value);}function _wrapAsyncGenerator(fn){return function(){return new _AsyncGenerator(fn.apply(this,arguments));};}function _AsyncGenerator(gen){var front,back;function send(key,arg){return new Promise(function(resolve,reject){var request={key:key,arg:arg,resolve:resolve,reject:reject,next:null};if(back){back=back.next=request;}else{front=back=request;resume(key,arg);}});}function resume(key,arg){try{var result=gen[key](arg);var value=result.value;var wrappedAwait=value instanceof _AwaitValue;Promise.resolve(wrappedAwait?value.wrapped:value).then(function(arg){if(wrappedAwait){resume(key==="return"?"return":"next",arg);return;}settle(result.done?"return":"normal",arg);},function(err){resume("throw",err);});}catch(err){settle("throw",err);}}function settle(type,value){switch(type){case"return":front.resolve({value:value,done:true});break;case"throw":front.reject(value);break;default:front.resolve({value:value,done:false});break;}front=front.next;if(front){resume(front.key,front.arg);}else{back=null;}}this._invoke=send;if(typeof gen["return"]!=="function"){this["return"]=undefined;}}if(typeof Symbol==="function"&&Symbol.asyncIterator){_AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this;};}_AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg);};_AsyncGenerator.prototype["throw"]=function(arg){return this._invoke("throw",arg);};_AsyncGenerator.prototype["return"]=function(arg){return this._invoke("return",arg);};function _AwaitValue(value){this.wrapped=value;}function _asyncIterator(iterable){var method;if(typeof Symbol!=="undefined"){if(Symbol.asyncIterator){method=iterable[Symbol.asyncIterator];if(method!=null)return method.call(iterable);}if(Symbol.iterator){method=iterable[Symbol.iterator];if(method!=null)return method.call(iterable);}}throw new TypeError("Object is not async iterable");}var System,_instantiate;(function(){var r=new Map();System={register:function register(id,d,f){r.set(id,{d:d,f:f,exp:{}});}};function dI(_x5,_x6){return _dI.apply(this,arguments);}function _dI(){_dI=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(mid,src){var id,_id$split$reverse,_id$split$reverse2,o,ia,_src$split$reverse,_src$split$reverse2,sa,oa,s,i;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=mid.replace(/\.\w+$/i,"");if(!id.includes("./")){_context.next=18;break;}_id$split$reverse=id.split("/").reverse(),_id$split$reverse2=_toArray(_id$split$reverse),o=_id$split$reverse2[0],ia=_id$split$reverse2.slice(1),_src$split$reverse=src.split("/").reverse(),_src$split$reverse2=_toArray(_src$split$reverse),sa=_src$split$reverse2.slice(1),oa=[o];s=0;case 4:if(!(i=ia.shift())){_context.next=16;break;}if(!(i==="..")){_context.next=9;break;}s++;_context.next=14;break;case 9:if(!(i===".")){_context.next=13;break;}return _context.abrupt("break",16);case 13:oa.push(i);case 14:_context.next=4;break;case 16:if(s<sa.length)oa.push.apply(oa,_toConsumableArray(sa.slice(s)));id=oa.reverse().join("/");case 18:return _context.abrupt("return",r.has(id)?gExpA(id):Promise.resolve("".concat(mid)).then(function(s){return _interopRequireWildcard(require(s));}));case 19:case"end":return _context.stop();}}},_callee);}));return _dI.apply(this,arguments);}function gC(id,main){return{id:id,"import":function _import(m){return dI(m,id);},meta:{url:id,main:main}};}function gE(exp){return function(id,v){v=typeof id==="string"?_defineProperty({},id,v):id;for(var _i=0,_Object$entries=Object.entries(v);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),_id=_Object$entries$_i[0],value=_Object$entries$_i[1];Object.defineProperty(exp,_id,{value:value,writable:true,enumerable:true});}};}function rF(main){var _iterator8=_createForOfIteratorHelper(r.entries()),_step7;try{for(_iterator8.s();!(_step7=_iterator8.n()).done;){var _step7$value=_slicedToArray(_step7.value,2),id=_step7$value[0],m=_step7$value[1];var f=m.f,exp=m.exp;var _f=f(gE(exp),gC(id,id===main)),e=_f.execute,s=_f.setters;delete m.f;m.e=e;m.s=s;}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}function gExpA(_x7){return _gExpA.apply(this,arguments);}function _gExpA(){_gExpA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(id){var m,d,e,s,i,_r;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(r.has(id)){_context2.next=2;break;}return _context2.abrupt("return");case 2:m=r.get(id);if(!m.s){_context2.next=22;break;}d=m.d,e=m.e,s=m.s;delete m.s;delete m.e;i=0;case 8:if(!(i<s.length)){_context2.next=18;break;}_context2.t0=s;_context2.t1=i;_context2.next=13;return gExpA(d[i]);case 13:_context2.t2=_context2.sent;_context2.t0[_context2.t1].call(_context2.t0,_context2.t2);case 15:i++;_context2.next=8;break;case 18:_r=e();if(!_r){_context2.next=22;break;}_context2.next=22;return _r;case 22:return _context2.abrupt("return",m.exp);case 23:case"end":return _context2.stop();}}},_callee2);}));return _gExpA.apply(this,arguments);}function gExp(id){if(!r.has(id))return;var m=r.get(id);if(m.s){var d=m.d,e=m.e,s=m.s;delete m.s;delete m.e;for(var i=0;i<s.length;i++){s[i](gExp(d[i]));}e();}return m.exp;}_instantiate=function __instantiate(m,a){System=_instantiate=undefined;rF(m);return a?gExpA(m):gExp(m);};})();System.register("zealot/fetcher/callbacks",[],function(exports_1,context_1){"use strict";var __moduleName=context_1&&context_1.id;function createCallbacks(){var callbacks=new Map();return{add:function add(name,cb){callbacks.set(name,cb);return this;},emit:function emit(name,payload){var cb=callbacks.get(name);if(cb)cb(payload);},start:function start(cb){return this.add("TaskStart",cb);},end:function end(cb){return this.add("TaskEnd",cb);},records:function records(cb){return this.add("SearchRecords",cb);},stats:function stats(cb){return this.add("SearchStats",cb);},warnings:function warnings(cb){return this.add("SearchWarning",cb);},error:function error(cb){return this.add("error",cb);}};}exports_1("createCallbacks",createCallbacks);return{setters:[],execute:function execute(){}};});System.register("zealot/fetcher/pipeJson",[],function(exports_2,context_2){"use strict";var NEW_LINE;var __moduleName=context_2&&context_2.id;function pipeJson(_x){return _pipeJson.apply(this,arguments);}function _pipeJson(){_pipeJson=_wrapAsyncGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(iterator){var leftover,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_value,value,start,end,chunk,line;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:leftover="";_iteratorNormalCompletion=true;_didIteratorError=false;_context3.prev=3;_iterator=_asyncIterator(iterator);case 5:_context3.next=7;return _awaitAsyncGenerator(_iterator.next());case 7:_step=_context3.sent;_iteratorNormalCompletion=_step.done;_context3.next=11;return _awaitAsyncGenerator(_step.value);case 11:_value=_context3.sent;if(_iteratorNormalCompletion){_context3.next=28;break;}value=_value;start=0;end=0;chunk=leftover+=value;case 17:if(!((end=chunk.indexOf(NEW_LINE,start))!==-1)){_context3.next=24;break;}line=chunk.substring(start,end);_context3.next=21;return JSON.parse(line);case 21:start=end+NEW_LINE.length;_context3.next=17;break;case 24:leftover=chunk.substring(start);case 25:_iteratorNormalCompletion=true;_context3.next=5;break;case 28:_context3.next=34;break;case 30:_context3.prev=30;_context3.t0=_context3["catch"](3);_didIteratorError=true;_iteratorError=_context3.t0;case 34:_context3.prev=34;_context3.prev=35;if(!(!_iteratorNormalCompletion&&_iterator["return"]!=null)){_context3.next=39;break;}_context3.next=39;return _awaitAsyncGenerator(_iterator["return"]());case 39:_context3.prev=39;if(!_didIteratorError){_context3.next=42;break;}throw _iteratorError;case 42:return _context3.finish(39);case 43:return _context3.finish(34);case 44:if(!leftover){_context3.next=47;break;}_context3.next=47;return JSON.parse(leftover);case 47:case"end":return _context3.stop();}}},_callee3,null,[[3,30,34,44],[35,,39,43]]);}));return _pipeJson.apply(this,arguments);}exports_2("pipeJson",pipeJson);return{setters:[],execute:function execute(){NEW_LINE="\n\n\n";}};});System.register("zealot/fetcher/pipeText",[],function(exports_3,context_3){"use strict";var __moduleName=context_3&&context_3.id;function pipeText(_x2){return _pipeText.apply(this,arguments);}function _pipeText(){_pipeText=_wrapAsyncGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(stream){var reader,text,_yield$_awaitAsyncGen,done,value;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(stream){_context4.next=2;break;}return _context4.abrupt("return");case 2:reader=stream.getReader();text=new TextDecoder();_context4.prev=4;case 5:if(!true){_context4.next=19;break;}_context4.next=8;return _awaitAsyncGenerator(reader.read());case 8:_yield$_awaitAsyncGen=_context4.sent;done=_yield$_awaitAsyncGen.done;value=_yield$_awaitAsyncGen.value;if(!(!done&&value)){_context4.next=16;break;}_context4.next=14;return text.decode(value);case 14:_context4.next=17;break;case 16:return _context4.abrupt("return");case 17:_context4.next=5;break;case 19:_context4.prev=19;reader.releaseLock();return _context4.finish(19);case 22:case"end":return _context4.stop();}}},_callee4,null,[[4,,19,22]]);}));return _pipeText.apply(this,arguments);}exports_3("pipeText",pipeText);return{setters:[],execute:function execute(){}};});System.register("zealot/fetcher/contentType",[],function(exports_4,context_4){"use strict";var __moduleName=context_4&&context_4.id;function parseContentType(resp){var type=resp.headers.get("Content-Type");switch(type){case"application/json":try{return resp.json();}catch(_unused){console.error("Unable to parse json content, parsing as text instead");return resp.text();}case"text/html; charset=UTF-8":case"text/plain; charset=utf-8":return resp.text();case"application/vnd.tcpdump.pcap":return resp;default:console.error("unknown Content-Type: '".concat(type,"', parsing as text"));return resp.text();}}exports_4("parseContentType",parseContentType);return{setters:[],execute:function execute(){}};});System.register("zealot/fetcher/iterator",["zealot/util/utils","zealot/fetcher/pipeJson","zealot/fetcher/pipeText","zealot/fetcher/contentType"],function(exports_5,context_5){"use strict";var utils_ts_1,pipeJson_ts_1,pipeText_ts_1,contentType_ts_1;var __moduleName=context_5&&context_5.id;function createIterator(_x3,_x4){return _createIterator.apply(this,arguments);}function _createIterator(){_createIterator=_wrapAsyncGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(resp,args){var contents,enhancers,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,_value2,json;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(resp.ok){_context5.next=9;break;}_context5.next=3;return _awaitAsyncGenerator(contentType_ts_1.parseContentType(resp));case 3:contents=_context5.sent;if(!utils_ts_1.isObject(contents)){_context5.next=8;break;}throw contents;case 8:throw new Error(contents);case 9:enhancers=(args.enhancers||[]).map(function(fn){return fn();});_iteratorNormalCompletion2=true;_didIteratorError2=false;_context5.prev=12;_iterator2=_asyncIterator(pipeJson_ts_1.pipeJson(pipeText_ts_1.pipeText(resp.body)));case 14:_context5.next=16;return _awaitAsyncGenerator(_iterator2.next());case 16:_step2=_context5.sent;_iteratorNormalCompletion2=_step2.done;_context5.next=20;return _awaitAsyncGenerator(_step2.value);case 20:_value2=_context5.sent;if(_iteratorNormalCompletion2){_context5.next=28;break;}json=_value2;_context5.next=25;return enhancers.reduce(function(payload,fn){return fn(payload);},json);case 25:_iteratorNormalCompletion2=true;_context5.next=14;break;case 28:_context5.next=34;break;case 30:_context5.prev=30;_context5.t0=_context5["catch"](12);_didIteratorError2=true;_iteratorError2=_context5.t0;case 34:_context5.prev=34;_context5.prev=35;if(!(!_iteratorNormalCompletion2&&_iterator2["return"]!=null)){_context5.next=39;break;}_context5.next=39;return _awaitAsyncGenerator(_iterator2["return"]());case 39:_context5.prev=39;if(!_didIteratorError2){_context5.next=42;break;}throw _iteratorError2;case 42:return _context5.finish(39);case 43:return _context5.finish(34);case 44:case"end":return _context5.stop();}}},_callee5,null,[[12,30,34,44],[35,,39,43]]);}));return _createIterator.apply(this,arguments);}exports_5("createIterator",createIterator);return{setters:[function(utils_ts_1_1){utils_ts_1=utils_ts_1_1;},function(pipeJson_ts_1_1){pipeJson_ts_1=pipeJson_ts_1_1;},function(pipeText_ts_1_1){pipeText_ts_1=pipeText_ts_1_1;},function(contentType_ts_1_1){contentType_ts_1=contentType_ts_1_1;}],execute:function execute(){}};});System.register("zealot/fetcher/stream",["zealot/fetcher/callbacks"],function(exports_6,context_6){"use strict";var callbacks_ts_1;var __moduleName=context_6&&context_6.id;function emitCallbacks(_x8,_x9){return _emitCallbacks.apply(this,arguments);}function _emitCallbacks(){_emitCallbacks=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(iterator,callbacks){var _iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,_value3,payload;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_iteratorNormalCompletion3=true;_didIteratorError3=false;_context9.prev=3;_iterator3=_asyncIterator(iterator);case 5:_context9.next=7;return _iterator3.next();case 7:_step3=_context9.sent;_iteratorNormalCompletion3=_step3.done;_context9.next=11;return _step3.value;case 11:_value3=_context9.sent;if(_iteratorNormalCompletion3){_context9.next=18;break;}payload=_value3;callbacks.emit(payload.type,payload);case 15:_iteratorNormalCompletion3=true;_context9.next=5;break;case 18:_context9.next=24;break;case 20:_context9.prev=20;_context9.t0=_context9["catch"](3);_didIteratorError3=true;_iteratorError3=_context9.t0;case 24:_context9.prev=24;_context9.prev=25;if(!(!_iteratorNormalCompletion3&&_iterator3["return"]!=null)){_context9.next=29;break;}_context9.next=29;return _iterator3["return"]();case 29:_context9.prev=29;if(!_didIteratorError3){_context9.next=32;break;}throw _iteratorError3;case 32:return _context9.finish(29);case 33:return _context9.finish(24);case 34:_context9.next=39;break;case 36:_context9.prev=36;_context9.t1=_context9["catch"](0);callbacks.emit("error",_context9.t1);case 39:case"end":return _context9.stop();}}},_callee9,null,[[0,36],[3,20,24,34],[25,,29,33]]);}));return _emitCallbacks.apply(this,arguments);}function createStream(iterator,origResp){var _ref2;return _ref2={origResp:origResp},_defineProperty(_ref2,Symbol.asyncIterator,function(){return iterator;}),_defineProperty(_ref2,"array",function(){var _array=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var all,_iteratorNormalCompletion4,_didIteratorError4,_iteratorError4,_iterator4,_step4,_value4,payload;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:all=[];_iteratorNormalCompletion4=true;_didIteratorError4=false;_context6.prev=3;_iterator4=_asyncIterator(iterator);case 5:_context6.next=7;return _iterator4.next();case 7:_step4=_context6.sent;_iteratorNormalCompletion4=_step4.done;_context6.next=11;return _step4.value;case 11:_value4=_context6.sent;if(_iteratorNormalCompletion4){_context6.next=18;break;}payload=_value4;all.push(payload);case 15:_iteratorNormalCompletion4=true;_context6.next=5;break;case 18:_context6.next=24;break;case 20:_context6.prev=20;_context6.t0=_context6["catch"](3);_didIteratorError4=true;_iteratorError4=_context6.t0;case 24:_context6.prev=24;_context6.prev=25;if(!(!_iteratorNormalCompletion4&&_iterator4["return"]!=null)){_context6.next=29;break;}_context6.next=29;return _iterator4["return"]();case 29:_context6.prev=29;if(!_didIteratorError4){_context6.next=32;break;}throw _iteratorError4;case 32:return _context6.finish(29);case 33:return _context6.finish(24);case 34:return _context6.abrupt("return",all);case 35:case"end":return _context6.stop();}}},_callee6,null,[[3,20,24,34],[25,,29,33]]);}));function array(){return _array.apply(this,arguments);}return array;}()),_defineProperty(_ref2,"records",function(){var _records=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(){var records,_iteratorNormalCompletion5,_didIteratorError5,_iteratorError5,_iterator5,_step5,_value5,payload;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:records=[];_iteratorNormalCompletion5=true;_didIteratorError5=false;_context7.prev=3;_iterator5=_asyncIterator(iterator);case 5:_context7.next=7;return _iterator5.next();case 7:_step5=_context7.sent;_iteratorNormalCompletion5=_step5.done;_context7.next=11;return _step5.value;case 11:_value5=_context7.sent;if(_iteratorNormalCompletion5){_context7.next=18;break;}payload=_value5;if(payload.type==="SearchRecords"){records=records.concat(payload.records);}case 15:_iteratorNormalCompletion5=true;_context7.next=5;break;case 18:_context7.next=24;break;case 20:_context7.prev=20;_context7.t0=_context7["catch"](3);_didIteratorError5=true;_iteratorError5=_context7.t0;case 24:_context7.prev=24;_context7.prev=25;if(!(!_iteratorNormalCompletion5&&_iterator5["return"]!=null)){_context7.next=29;break;}_context7.next=29;return _iterator5["return"]();case 29:_context7.prev=29;if(!_didIteratorError5){_context7.next=32;break;}throw _iteratorError5;case 32:return _context7.finish(29);case 33:return _context7.finish(24);case 34:return _context7.abrupt("return",records);case 35:case"end":return _context7.stop();}}},_callee7,null,[[3,20,24,34],[25,,29,33]]);}));function records(){return _records.apply(this,arguments);}return records;}()),_defineProperty(_ref2,"flatRecords",function(){var _flatRecords=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(){var records,_iteratorNormalCompletion6,_didIteratorError6,_iteratorError6,_iterator6,_step6,_value6,payload;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:records=[];_iteratorNormalCompletion6=true;_didIteratorError6=false;_context8.prev=3;_iterator6=_asyncIterator(iterator);case 5:_context8.next=7;return _iterator6.next();case 7:_step6=_context8.sent;_iteratorNormalCompletion6=_step6.done;_context8.next=11;return _step6.value;case 11:_value6=_context8.sent;if(_iteratorNormalCompletion6){_context8.next=18;break;}payload=_value6;if(payload.type==="SearchRecords"){records=records.concat(payload.flat_records);}case 15:_iteratorNormalCompletion6=true;_context8.next=5;break;case 18:_context8.next=24;break;case 20:_context8.prev=20;_context8.t0=_context8["catch"](3);_didIteratorError6=true;_iteratorError6=_context8.t0;case 24:_context8.prev=24;_context8.prev=25;if(!(!_iteratorNormalCompletion6&&_iterator6["return"]!=null)){_context8.next=29;break;}_context8.next=29;return _iterator6["return"]();case 29:_context8.prev=29;if(!_didIteratorError6){_context8.next=32;break;}throw _iteratorError6;case 32:return _context8.finish(29);case 33:return _context8.finish(24);case 34:return _context8.abrupt("return",records);case 35:case"end":return _context8.stop();}}},_callee8,null,[[3,20,24,34],[25,,29,33]]);}));function flatRecords(){return _flatRecords.apply(this,arguments);}return flatRecords;}()),_defineProperty(_ref2,"callbacks",function callbacks(){var cbs=callbacks_ts_1.createCallbacks();emitCallbacks(iterator,cbs);return cbs;}),_ref2;}exports_6("createStream",createStream);return{setters:[function(callbacks_ts_1_1){callbacks_ts_1=callbacks_ts_1_1;}],execute:function execute(){}};});System.register("zealot/types",[],function(exports_7,context_7){"use strict";var __moduleName=context_7&&context_7.id;return{setters:[],execute:function execute(){}};});System.register("zealot/util/utils",[],function(exports_8,context_8){"use strict";var __moduleName=context_8&&context_8.id;function hasOwnProperty(obj,prop){return obj.hasOwnProperty(prop);}function url(host,path){return"http://".concat(host).concat(path);}exports_8("url",url);function isObject(thing){return _typeof(thing)==="object"&&thing!==null;}exports_8("isObject",isObject);function isString(thing){return typeof thing==="string";}exports_8("isString",isString);function isDate(thing){return isObject(thing)&&thing.constructor.name==="Date";}exports_8("isDate",isDate);function isNumber(thing){return typeof thing==="number";}exports_8("isNumber",isNumber);function isBigInt(thing){return typeof thing==="bigint";}exports_8("isBigInt",isBigInt);function isFracSec(thing){return isString(thing)&&/^\d+\.\d+$/.test(thing);}exports_8("isFracSec",isFracSec);function isTs(thing){return isObject(thing)&&hasOwnProperty(thing,"sec")&&isNumber(thing.sec)&&hasOwnProperty(thing,"ns")&&isNumber(thing.ns);}exports_8("isTs",isTs);function uniq(array){var u=[];var _iterator9=_createForOfIteratorHelper(array),_step8;try{for(_iterator9.s();!(_step8=_iterator9.n()).done;){var item=_step8.value;if(!u.includes(item)){u.push(item);}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}return u;}exports_8("uniq",uniq);return{setters:[],execute:function execute(){}};});System.register("zealot/util/error",["zealot/util/utils"],function(exports_9,context_9){"use strict";var utils_ts_2;var __moduleName=context_9&&context_9.id;function createError(input){if(input instanceof Error)return input;if(utils_ts_2.isObject(input)){var e=Object.assign(new Error(),input);if(input.error){e.message=input.error;}if(input.kind){e.name=input.kind;}return e;}return new Error(input);}exports_9("createError",createError);return{setters:[function(utils_ts_2_1){utils_ts_2=utils_ts_2_1;}],execute:function execute(){}};});System.register("zealot/fetcher/fetcher",["zealot/util/utils","zealot/fetcher/contentType","zealot/fetcher/iterator","zealot/fetcher/stream","zealot/util/error"],function(exports_10,context_10){"use strict";var utils_ts_3,contentType_ts_2,iterator_ts_1,stream_ts_1,error_ts_1;var __moduleName=context_10&&context_10.id;function createFetcher(host){return{promise:function promise(args){return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(){var path,method,body,signal,resp,content;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:path=args.path,method=args.method,body=args.body,signal=args.signal;_context10.next=3;return fetch(utils_ts_3.url(host,path),{method:method,body:body,signal:signal});case 3:resp=_context10.sent;_context10.next=6;return contentType_ts_2.parseContentType(resp);case 6:content=_context10.sent;return _context10.abrupt("return",resp.ok?content:Promise.reject(error_ts_1.createError(content)));case 8:case"end":return _context10.stop();}}},_callee10);}))();},stream:function stream(args){return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){var path,method,body,signal,resp,iterator;return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:path=args.path,method=args.method,body=args.body,signal=args.signal;_context11.next=3;return fetch(utils_ts_3.url(host,path),{method:method,body:body,signal:signal});case 3:resp=_context11.sent;iterator=iterator_ts_1.createIterator(resp,args);return _context11.abrupt("return",stream_ts_1.createStream(iterator,resp));case 6:case"end":return _context11.stop();}}},_callee11);}))();}};}exports_10("createFetcher",createFetcher);return{setters:[function(utils_ts_3_1){utils_ts_3=utils_ts_3_1;},function(contentType_ts_2_1){contentType_ts_2=contentType_ts_2_1;},function(iterator_ts_1_1){iterator_ts_1=iterator_ts_1_1;},function(stream_ts_1_1){stream_ts_1=stream_ts_1_1;},function(error_ts_1_1){error_ts_1=error_ts_1_1;}],execute:function execute(){}};});System.register("zealot/config/json_types",[],function(exports_11,context_11){"use strict";var __moduleName=context_11&&context_11.id;function getDefaultJsonTypeConfig(){return{"descriptors":{"broker_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"ty","type":"zenum"},{"name":"ev","type":"bstring"},{"name":"peer","type":[{"name":"address","type":"bstring"},{"name":"bound_port","type":"port"}]},{"name":"message","type":"bstring"},{"name":"_write_ts","type":"time"}],"capture_loss_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"ts_delta","type":"duration"},{"name":"peer","type":"bstring"},{"name":"gaps","type":"uint64"},{"name":"acks","type":"uint64"},{"name":"percent_lost","type":"float64"},{"name":"_write_ts","type":"time"}],"cluster_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"node","type":"bstring"},{"name":"message","type":"bstring"},{"name":"_write_ts","type":"time"}],"config_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"id","type":"bstring"},{"name":"old_value","type":"bstring"},{"name":"new_value","type":"bstring"},{"name":"location","type":"bstring"},{"name":"_write_ts","type":"time"}],"conn_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"proto","type":"zenum"},{"name":"service","type":"bstring"},{"name":"duration","type":"duration"},{"name":"orig_bytes","type":"uint64"},{"name":"resp_bytes","type":"uint64"},{"name":"conn_state","type":"bstring"},{"name":"local_orig","type":"bool"},{"name":"local_resp","type":"bool"},{"name":"missed_bytes","type":"uint64"},{"name":"history","type":"bstring"},{"name":"orig_pkts","type":"uint64"},{"name":"orig_ip_bytes","type":"uint64"},{"name":"resp_pkts","type":"uint64"},{"name":"resp_ip_bytes","type":"uint64"},{"name":"tunnel_parents","type":"set[bstring]"},{"name":"_write_ts","type":"time"}],"dce_rpc_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"rtt","type":"duration"},{"name":"named_pipe","type":"bstring"},{"name":"endpoint","type":"bstring"},{"name":"operation","type":"bstring"},{"name":"_write_ts","type":"time"}],"dhcp_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uids","type":"set[bstring]"},{"name":"client_addr","type":"ip"},{"name":"server_addr","type":"ip"},{"name":"mac","type":"bstring"},{"name":"host_name","type":"bstring"},{"name":"client_fqdn","type":"bstring"},{"name":"domain","type":"bstring"},{"name":"requested_addr","type":"ip"},{"name":"assigned_addr","type":"ip"},{"name":"lease_time","type":"duration"},{"name":"client_message","type":"bstring"},{"name":"server_message","type":"bstring"},{"name":"msg_types","type":"array[bstring]"},{"name":"duration","type":"duration"},{"name":"_write_ts","type":"time"}],"dnp3_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"fc_request","type":"bstring"},{"name":"fc_reply","type":"bstring"},{"name":"iin","type":"uint64"},{"name":"_write_ts","type":"time"}],"dns_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"proto","type":"zenum"},{"name":"trans_id","type":"uint64"},{"name":"rtt","type":"duration"},{"name":"query","type":"bstring"},{"name":"qclass","type":"uint64"},{"name":"qclass_name","type":"bstring"},{"name":"qtype","type":"uint64"},{"name":"qtype_name","type":"bstring"},{"name":"rcode","type":"uint64"},{"name":"rcode_name","type":"bstring"},{"name":"AA","type":"bool"},{"name":"TC","type":"bool"},{"name":"RD","type":"bool"},{"name":"RA","type":"bool"},{"name":"Z","type":"uint64"},{"name":"answers","type":"array[bstring]"},{"name":"TTLs","type":"array[duration]"},{"name":"rejected","type":"bool"},{"name":"_write_ts","type":"time"}],"dpd_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"proto","type":"zenum"},{"name":"analyzer","type":"bstring"},{"name":"failure_reason","type":"bstring"},{"name":"_write_ts","type":"time"}],"files_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"fuid","type":"bstring"},{"name":"tx_hosts","type":"set[ip]"},{"name":"rx_hosts","type":"set[ip]"},{"name":"conn_uids","type":"set[bstring]"},{"name":"source","type":"bstring"},{"name":"depth","type":"uint64"},{"name":"analyzers","type":"set[bstring]"},{"name":"mime_type","type":"bstring"},{"name":"filename","type":"bstring"},{"name":"duration","type":"duration"},{"name":"local_orig","type":"bool"},{"name":"is_orig","type":"bool"},{"name":"seen_bytes","type":"uint64"},{"name":"total_bytes","type":"uint64"},{"name":"missing_bytes","type":"uint64"},{"name":"overflow_bytes","type":"uint64"},{"name":"timedout","type":"bool"},{"name":"parent_fuid","type":"bstring"},{"name":"md5","type":"bstring"},{"name":"sha1","type":"bstring"},{"name":"sha256","type":"bstring"},{"name":"extracted","type":"bstring"},{"name":"extracted_cutoff","type":"bool"},{"name":"extracted_size","type":"uint64"},{"name":"_write_ts","type":"time"}],"ftp_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"user","type":"bstring"},{"name":"password","type":"bstring"},{"name":"command","type":"bstring"},{"name":"arg","type":"bstring"},{"name":"mime_type","type":"bstring"},{"name":"file_size","type":"uint64"},{"name":"reply_code","type":"uint64"},{"name":"reply_msg","type":"bstring"},{"name":"data_channel","type":[{"name":"passive","type":"bool"},{"name":"orig_h","type":"ip"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"fuid","type":"bstring"},{"name":"_write_ts","type":"time"}],"http_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"trans_depth","type":"uint64"},{"name":"method","type":"bstring"},{"name":"host","type":"bstring"},{"name":"uri","type":"bstring"},{"name":"referrer","type":"bstring"},{"name":"version","type":"bstring"},{"name":"user_agent","type":"bstring"},{"name":"origin","type":"bstring"},{"name":"request_body_len","type":"uint64"},{"name":"response_body_len","type":"uint64"},{"name":"status_code","type":"uint64"},{"name":"status_msg","type":"bstring"},{"name":"info_code","type":"uint64"},{"name":"info_msg","type":"bstring"},{"name":"tags","type":"set[zenum]"},{"name":"username","type":"bstring"},{"name":"password","type":"bstring"},{"name":"proxied","type":"set[bstring]"},{"name":"orig_fuids","type":"array[bstring]"},{"name":"orig_filenames","type":"array[bstring]"},{"name":"orig_mime_types","type":"array[bstring]"},{"name":"resp_fuids","type":"array[bstring]"},{"name":"resp_filenames","type":"array[bstring]"},{"name":"resp_mime_types","type":"array[bstring]"},{"name":"_write_ts","type":"time"}],"intel_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"seen","type":[{"name":"indicator","type":"bstring"},{"name":"indicator_type","type":"zenum"},{"name":"where","type":"zenum"},{"name":"node","type":"bstring"}]},{"name":"matched","type":"set[zenum]"},{"name":"sources","type":"set[bstring]"},{"name":"fuid","type":"bstring"},{"name":"file_mime_type","type":"bstring"},{"name":"file_desc","type":"bstring"},{"name":"_write_ts","type":"time"}],"irc_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"nick","type":"bstring"},{"name":"user","type":"bstring"},{"name":"command","type":"bstring"},{"name":"value","type":"bstring"},{"name":"addl","type":"bstring"},{"name":"dcc_file_name","type":"bstring"},{"name":"dcc_file_size","type":"uint64"},{"name":"dcc_mime_type","type":"bstring"},{"name":"fuid","type":"bstring"},{"name":"_write_ts","type":"time"}],"kerberos_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"request_type","type":"bstring"},{"name":"client","type":"bstring"},{"name":"service","type":"bstring"},{"name":"success","type":"bool"},{"name":"error_msg","type":"bstring"},{"name":"from","type":"time"},{"name":"till","type":"time"},{"name":"cipher","type":"bstring"},{"name":"forwardable","type":"bool"},{"name":"renewable","type":"bool"},{"name":"client_cert_subject","type":"bstring"},{"name":"client_cert_fuid","type":"bstring"},{"name":"server_cert_subject","type":"bstring"},{"name":"server_cert_fuid","type":"bstring"},{"name":"_write_ts","type":"time"}],"known_certs_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"host","type":"ip"},{"name":"port_num","type":"port"},{"name":"subject","type":"bstring"},{"name":"issuer_subject","type":"bstring"},{"name":"serial","type":"bstring"},{"name":"_write_ts","type":"time"}],"known_hosts_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"host","type":"ip"},{"name":"_write_ts","type":"time"}],"known_services_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"host","type":"ip"},{"name":"port_num","type":"port"},{"name":"port_proto","type":"zenum"},{"name":"service","type":"set[bstring]"},{"name":"_write_ts","type":"time"}],"loaded_scripts_log":[{"name":"_path","type":"string"},{"name":"name","type":"bstring"},{"name":"_write_ts","type":"time"}],"modbus_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"func","type":"bstring"},{"name":"exception","type":"bstring"},{"name":"_write_ts","type":"time"}],"mysql_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"cmd","type":"bstring"},{"name":"arg","type":"bstring"},{"name":"success","type":"bool"},{"name":"rows","type":"uint64"},{"name":"response","type":"bstring"},{"name":"_write_ts","type":"time"}],"netcontrol_drop_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"rule_id","type":"bstring"},{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"},{"name":"expire","type":"duration"},{"name":"location","type":"bstring"},{"name":"_write_ts","type":"time"}],"netcontrol_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"rule_id","type":"bstring"},{"name":"category","type":"zenum"},{"name":"cmd","type":"bstring"},{"name":"state","type":"zenum"},{"name":"action","type":"bstring"},{"name":"target","type":"zenum"},{"name":"entity_type","type":"bstring"},{"name":"entity","type":"bstring"},{"name":"mod","type":"bstring"},{"name":"msg","type":"bstring"},{"name":"priority","type":"int64"},{"name":"expire","type":"duration"},{"name":"location","type":"bstring"},{"name":"plugin","type":"bstring"},{"name":"_write_ts","type":"time"}],"netcontrol_shunt_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"rule_id","type":"bstring"},{"name":"f","type":[{"name":"src_h","type":"ip"},{"name":"src_p","type":"port"},{"name":"dst_h","type":"ip"},{"name":"dst_p","type":"port"}]},{"name":"expire","type":"duration"},{"name":"location","type":"bstring"},{"name":"_write_ts","type":"time"}],"notice_alarm_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"fuid","type":"bstring"},{"name":"file_mime_type","type":"bstring"},{"name":"file_desc","type":"bstring"},{"name":"proto","type":"zenum"},{"name":"note","type":"zenum"},{"name":"msg","type":"bstring"},{"name":"sub","type":"bstring"},{"name":"src","type":"ip"},{"name":"dst","type":"ip"},{"name":"p","type":"port"},{"name":"n","type":"uint64"},{"name":"peer_descr","type":"bstring"},{"name":"actions","type":"set[zenum]"},{"name":"suppress_for","type":"duration"},{"name":"remote_location","type":[{"name":"country_code","type":"bstring"},{"name":"region","type":"bstring"},{"name":"city","type":"bstring"},{"name":"latitude","type":"float64"},{"name":"longitude","type":"float64"}]},{"name":"_write_ts","type":"time"}],"notice_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"fuid","type":"bstring"},{"name":"file_mime_type","type":"bstring"},{"name":"file_desc","type":"bstring"},{"name":"proto","type":"zenum"},{"name":"note","type":"zenum"},{"name":"msg","type":"bstring"},{"name":"sub","type":"bstring"},{"name":"src","type":"ip"},{"name":"dst","type":"ip"},{"name":"p","type":"port"},{"name":"n","type":"uint64"},{"name":"peer_descr","type":"bstring"},{"name":"actions","type":"set[zenum]"},{"name":"suppress_for","type":"duration"},{"name":"remote_location","type":[{"name":"country_code","type":"bstring"},{"name":"region","type":"bstring"},{"name":"city","type":"bstring"},{"name":"latitude","type":"float64"},{"name":"longitude","type":"float64"}]},{"name":"_write_ts","type":"time"}],"ntlm_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"username","type":"bstring"},{"name":"hostname","type":"bstring"},{"name":"domainname","type":"bstring"},{"name":"server_nb_computer_name","type":"bstring"},{"name":"server_dns_computer_name","type":"bstring"},{"name":"server_tree_name","type":"bstring"},{"name":"success","type":"bool"},{"name":"_write_ts","type":"time"}],"ntp_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"version","type":"uint64"},{"name":"mode","type":"uint64"},{"name":"stratum","type":"uint64"},{"name":"poll","type":"duration"},{"name":"precision","type":"duration"},{"name":"root_delay","type":"duration"},{"name":"root_disp","type":"duration"},{"name":"ref_id","type":"bstring"},{"name":"ref_time","type":"time"},{"name":"org_time","type":"time"},{"name":"rec_time","type":"time"},{"name":"xmt_time","type":"time"},{"name":"num_exts","type":"uint64"},{"name":"_write_ts","type":"time"}],"packet_filter_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"node","type":"bstring"},{"name":"filter","type":"bstring"},{"name":"init","type":"bool"},{"name":"success","type":"bool"},{"name":"_write_ts","type":"time"}],"pe_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"id","type":"bstring"},{"name":"machine","type":"bstring"},{"name":"compile_ts","type":"time"},{"name":"os","type":"bstring"},{"name":"subsystem","type":"bstring"},{"name":"is_exe","type":"bool"},{"name":"is_64bit","type":"bool"},{"name":"uses_aslr","type":"bool"},{"name":"uses_dep","type":"bool"},{"name":"uses_code_integrity","type":"bool"},{"name":"uses_seh","type":"bool"},{"name":"has_import_table","type":"bool"},{"name":"has_export_table","type":"bool"},{"name":"has_cert_table","type":"bool"},{"name":"has_debug_data","type":"bool"},{"name":"section_names","type":"array[bstring]"},{"name":"_write_ts","type":"time"}],"radius_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"username","type":"bstring"},{"name":"mac","type":"bstring"},{"name":"framed_addr","type":"ip"},{"name":"tunnel_client","type":"bstring"},{"name":"connect_info","type":"bstring"},{"name":"reply_msg","type":"bstring"},{"name":"result","type":"bstring"},{"name":"ttl","type":"duration"},{"name":"_write_ts","type":"time"}],"rdp_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"cookie","type":"bstring"},{"name":"result","type":"bstring"},{"name":"security_protocol","type":"bstring"},{"name":"client_channels","type":"array[bstring]"},{"name":"keyboard_layout","type":"bstring"},{"name":"client_build","type":"bstring"},{"name":"client_name","type":"bstring"},{"name":"client_dig_product_id","type":"bstring"},{"name":"desktop_width","type":"uint64"},{"name":"desktop_height","type":"uint64"},{"name":"requested_color_depth","type":"bstring"},{"name":"cert_type","type":"bstring"},{"name":"cert_count","type":"uint64"},{"name":"cert_permanent","type":"bool"},{"name":"encryption_level","type":"bstring"},{"name":"encryption_method","type":"bstring"},{"name":"_write_ts","type":"time"}],"reporter_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"level","type":"zenum"},{"name":"message","type":"bstring"},{"name":"location","type":"bstring"},{"name":"_write_ts","type":"time"}],"rfb_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"client_major_version","type":"bstring"},{"name":"client_minor_version","type":"bstring"},{"name":"server_major_version","type":"bstring"},{"name":"server_minor_version","type":"bstring"},{"name":"authentication_method","type":"bstring"},{"name":"auth","type":"bool"},{"name":"share_flag","type":"bool"},{"name":"desktop_name","type":"bstring"},{"name":"width","type":"uint64"},{"name":"height","type":"uint64"},{"name":"_write_ts","type":"time"}],"signatures_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"src_addr","type":"ip"},{"name":"src_port","type":"port"},{"name":"dst_addr","type":"ip"},{"name":"dst_port","type":"port"},{"name":"note","type":"zenum"},{"name":"sig_id","type":"bstring"},{"name":"event_msg","type":"bstring"},{"name":"sub_msg","type":"bstring"},{"name":"sig_count","type":"uint64"},{"name":"host_count","type":"uint64"},{"name":"_write_ts","type":"time"}],"sip_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"trans_depth","type":"uint64"},{"name":"method","type":"bstring"},{"name":"uri","type":"bstring"},{"name":"date","type":"bstring"},{"name":"request_from","type":"bstring"},{"name":"request_to","type":"bstring"},{"name":"response_from","type":"bstring"},{"name":"response_to","type":"bstring"},{"name":"reply_to","type":"bstring"},{"name":"call_id","type":"bstring"},{"name":"seq","type":"bstring"},{"name":"subject","type":"bstring"},{"name":"request_path","type":"array[bstring]"},{"name":"response_path","type":"array[bstring]"},{"name":"user_agent","type":"bstring"},{"name":"status_code","type":"uint64"},{"name":"status_msg","type":"bstring"},{"name":"warning","type":"bstring"},{"name":"request_body_len","type":"uint64"},{"name":"response_body_len","type":"uint64"},{"name":"content_type","type":"bstring"},{"name":"_write_ts","type":"time"}],"smb_files_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"fuid","type":"bstring"},{"name":"action","type":"zenum"},{"name":"path","type":"bstring"},{"name":"name","type":"bstring"},{"name":"size","type":"uint64"},{"name":"prev_name","type":"bstring"},{"name":"times","type":[{"name":"modified","type":"time"},{"name":"accessed","type":"time"},{"name":"created","type":"time"},{"name":"changed","type":"time"}]},{"name":"_write_ts","type":"time"}],"smb_mapping_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"path","type":"bstring"},{"name":"service","type":"bstring"},{"name":"native_file_system","type":"bstring"},{"name":"share_type","type":"bstring"},{"name":"_write_ts","type":"time"}],"smtp_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"trans_depth","type":"uint64"},{"name":"helo","type":"bstring"},{"name":"mailfrom","type":"bstring"},{"name":"rcptto","type":"set[bstring]"},{"name":"date","type":"bstring"},{"name":"from","type":"bstring"},{"name":"to","type":"set[bstring]"},{"name":"cc","type":"set[bstring]"},{"name":"reply_to","type":"bstring"},{"name":"msg_id","type":"bstring"},{"name":"in_reply_to","type":"bstring"},{"name":"subject","type":"bstring"},{"name":"x_originating_ip","type":"ip"},{"name":"first_received","type":"bstring"},{"name":"second_received","type":"bstring"},{"name":"last_reply","type":"bstring"},{"name":"path","type":"array[ip]"},{"name":"user_agent","type":"bstring"},{"name":"tls","type":"bool"},{"name":"fuids","type":"array[bstring]"},{"name":"is_webmail","type":"bool"},{"name":"_write_ts","type":"time"}],"snmp_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"duration","type":"duration"},{"name":"version","type":"bstring"},{"name":"community","type":"bstring"},{"name":"get_requests","type":"uint64"},{"name":"get_bulk_requests","type":"uint64"},{"name":"get_responses","type":"uint64"},{"name":"set_requests","type":"uint64"},{"name":"display_string","type":"bstring"},{"name":"up_since","type":"time"},{"name":"_write_ts","type":"time"}],"socks_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"version","type":"uint64"},{"name":"user","type":"bstring"},{"name":"password","type":"bstring"},{"name":"status","type":"bstring"},{"name":"request","type":[{"name":"host","type":"ip"},{"name":"name","type":"bstring"}]},{"name":"request_p","type":"port"},{"name":"bound","type":[{"name":"host","type":"ip"},{"name":"name","type":"bstring"}]},{"name":"bound_p","type":"port"},{"name":"_write_ts","type":"time"}],"software_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"host","type":"ip"},{"name":"host_p","type":"port"},{"name":"software_type","type":"zenum"},{"name":"name","type":"bstring"},{"name":"version","type":[{"name":"major","type":"uint64"},{"name":"minor","type":"uint64"},{"name":"minor2","type":"uint64"},{"name":"minor3","type":"uint64"},{"name":"addl","type":"bstring"}]},{"name":"unparsed_version","type":"bstring"},{"name":"_write_ts","type":"time"}],"ssh_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"version","type":"uint64"},{"name":"auth_success","type":"bool"},{"name":"auth_attempts","type":"uint64"},{"name":"direction","type":"zenum"},{"name":"client","type":"bstring"},{"name":"server","type":"bstring"},{"name":"cipher_alg","type":"bstring"},{"name":"mac_alg","type":"bstring"},{"name":"compression_alg","type":"bstring"},{"name":"kex_alg","type":"bstring"},{"name":"host_key_alg","type":"bstring"},{"name":"host_key","type":"bstring"},{"name":"remote_location","type":[{"name":"country_code","type":"bstring"},{"name":"region","type":"bstring"},{"name":"city","type":"bstring"},{"name":"latitude","type":"float64"},{"name":"longitude","type":"float64"}]},{"name":"_write_ts","type":"time"}],"ssl_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"version","type":"bstring"},{"name":"cipher","type":"bstring"},{"name":"curve","type":"bstring"},{"name":"server_name","type":"bstring"},{"name":"resumed","type":"bool"},{"name":"last_alert","type":"bstring"},{"name":"next_protocol","type":"bstring"},{"name":"established","type":"bool"},{"name":"cert_chain_fuids","type":"array[bstring]"},{"name":"client_cert_chain_fuids","type":"array[bstring]"},{"name":"subject","type":"bstring"},{"name":"issuer","type":"bstring"},{"name":"client_subject","type":"bstring"},{"name":"client_issuer","type":"bstring"},{"name":"validation_status","type":"bstring"},{"name":"_write_ts","type":"time"}],"stats_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"peer","type":"bstring"},{"name":"mem","type":"uint64"},{"name":"pkts_proc","type":"uint64"},{"name":"bytes_recv","type":"uint64"},{"name":"pkts_dropped","type":"uint64"},{"name":"pkts_link","type":"uint64"},{"name":"pkt_lag","type":"duration"},{"name":"events_proc","type":"uint64"},{"name":"events_queued","type":"uint64"},{"name":"active_tcp_conns","type":"uint64"},{"name":"active_udp_conns","type":"uint64"},{"name":"active_icmp_conns","type":"uint64"},{"name":"tcp_conns","type":"uint64"},{"name":"udp_conns","type":"uint64"},{"name":"icmp_conns","type":"uint64"},{"name":"timers","type":"uint64"},{"name":"active_timers","type":"uint64"},{"name":"files","type":"uint64"},{"name":"active_files","type":"uint64"},{"name":"dns_requests","type":"uint64"},{"name":"active_dns_requests","type":"uint64"},{"name":"reassem_tcp_size","type":"uint64"},{"name":"reassem_file_size","type":"uint64"},{"name":"reassem_frag_size","type":"uint64"},{"name":"reassem_unknown_size","type":"uint64"},{"name":"_write_ts","type":"time"}],"syslog_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"proto","type":"zenum"},{"name":"facility","type":"bstring"},{"name":"severity","type":"bstring"},{"name":"message","type":"bstring"},{"name":"_write_ts","type":"time"}],"tunnel_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"tunnel_type","type":"zenum"},{"name":"action","type":"zenum"},{"name":"_write_ts","type":"time"}],"weird_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"uid","type":"bstring"},{"name":"id","type":[{"name":"orig_h","type":"ip"},{"name":"orig_p","type":"port"},{"name":"resp_h","type":"ip"},{"name":"resp_p","type":"port"}]},{"name":"name","type":"bstring"},{"name":"addl","type":"bstring"},{"name":"notice","type":"bool"},{"name":"peer","type":"bstring"},{"name":"_write_ts","type":"time"}],"x509_log":[{"name":"_path","type":"string"},{"name":"ts","type":"time"},{"name":"id","type":"bstring"},{"name":"certificate","type":[{"name":"version","type":"uint64"},{"name":"serial","type":"bstring"},{"name":"subject","type":"bstring"},{"name":"issuer","type":"bstring"},{"name":"not_valid_before","type":"time"},{"name":"not_valid_after","type":"time"},{"name":"key_alg","type":"bstring"},{"name":"sig_alg","type":"bstring"},{"name":"key_type","type":"bstring"},{"name":"key_length","type":"uint64"},{"name":"exponent","type":"bstring"},{"name":"curve","type":"bstring"}]},{"name":"san","type":[{"name":"dns","type":"array[bstring]"},{"name":"uri","type":"array[bstring]"},{"name":"email","type":"array[bstring]"},{"name":"ip","type":"array[ip]"}]},{"name":"basic_constraints","type":[{"name":"ca","type":"bool"},{"name":"path_len","type":"uint64"}]},{"name":"_write_ts","type":"time"}]},"rules":[{"descriptor":"broker_log","name":"_path","value":"broker"},{"descriptor":"capture_loss_log","name":"_path","value":"capture_loss"},{"descriptor":"cluster_log","name":"_path","value":"cluster"},{"descriptor":"config_log","name":"_path","value":"config"},{"descriptor":"conn_log","name":"_path","value":"conn"},{"descriptor":"dce_rpc_log","name":"_path","value":"dce_rpc"},{"descriptor":"dhcp_log","name":"_path","value":"dhcp"},{"descriptor":"dnp3_log","name":"_path","value":"dnp3"},{"descriptor":"dns_log","name":"_path","value":"dns"},{"descriptor":"dpd_log","name":"_path","value":"dpd"},{"descriptor":"files_log","name":"_path","value":"files"},{"descriptor":"ftp_log","name":"_path","value":"ftp"},{"descriptor":"http_log","name":"_path","value":"http"},{"descriptor":"intel_log","name":"_path","value":"intel"},{"descriptor":"irc_log","name":"_path","value":"irc"},{"descriptor":"kerberos_log","name":"_path","value":"kerberos"},{"descriptor":"known_certs_log","name":"_path","value":"known_certs"},{"descriptor":"known_hosts_log","name":"_path","value":"known_hosts"},{"descriptor":"known_services_log","name":"_path","value":"known_services"},{"descriptor":"loaded_scripts_log","name":"_path","value":"loaded_scripts"},{"descriptor":"modbus_log","name":"_path","value":"modbus"},{"descriptor":"mysql_log","name":"_path","value":"mysql"},{"descriptor":"netcontrol_log","name":"_path","value":"netcontrol"},{"descriptor":"netcontrol_drop_log","name":"_path","value":"netcontrol_drop"},{"descriptor":"netcontrol_shunt_log","name":"_path","value":"netcontrol_shunt"},{"descriptor":"notice_log","name":"_path","value":"notice"},{"descriptor":"notice_alarm_log","name":"_path","value":"notice_alarm"},{"descriptor":"ntlm_log","name":"_path","value":"ntlm"},{"descriptor":"ntp_log","name":"_path","value":"ntp"},{"descriptor":"packet_filter_log","name":"_path","value":"packet_filter"},{"descriptor":"pe_log","name":"_path","value":"pe"},{"descriptor":"radius_log","name":"_path","value":"radius"},{"descriptor":"rdp_log","name":"_path","value":"rdp"},{"descriptor":"reporter_log","name":"_path","value":"reporter"},{"descriptor":"rfb_log","name":"_path","value":"rfb"},{"descriptor":"signatures_log","name":"_path","value":"signatures"},{"descriptor":"sip_log","name":"_path","value":"sip"},{"descriptor":"smb_files_log","name":"_path","value":"smb_files"},{"descriptor":"smb_mapping_log","name":"_path","value":"smb_mapping"},{"descriptor":"smtp_log","name":"_path","value":"smtp"},{"descriptor":"snmp_log","name":"_path","value":"snmp"},{"descriptor":"socks_log","name":"_path","value":"socks"},{"descriptor":"software_log","name":"_path","value":"software"},{"descriptor":"ssh_log","name":"_path","value":"ssh"},{"descriptor":"ssl_log","name":"_path","value":"ssl"},{"descriptor":"stats_log","name":"_path","value":"stats"},{"descriptor":"syslog_log","name":"_path","value":"syslog"},{"descriptor":"tunnel_log","name":"_path","value":"tunnel"},{"descriptor":"weird_log","name":"_path","value":"weird"},{"descriptor":"x509_log","name":"_path","value":"x509"}]};}exports_11("getDefaultJsonTypeConfig",getDefaultJsonTypeConfig);return{setters:[],execute:function execute(){}};});System.register("zealot/api/logs",["zealot/config/json_types"],function(exports_12,context_12){"use strict";var json_types_ts_1;var __moduleName=context_12&&context_12.id;function getBody(paths){var types=arguments.length>1&&arguments[1]!==undefined?arguments[1]:json_types_ts_1.getDefaultJsonTypeConfig();return JSON.stringify({paths:paths,json_type_config:types});}return{setters:[function(json_types_ts_1_1){json_types_ts_1=json_types_ts_1_1;}],execute:function execute(){exports_12("default",{post:function post(_ref3){var spaceId=_ref3.spaceId,paths=_ref3.paths,types=_ref3.types;return{method:"POST",path:"/space/".concat(encodeURIComponent(spaceId),"/log"),body:getBody(paths,types)};}});}};});System.register("zealot/api/pcaps",[],function(exports_13,context_13){"use strict";var __moduleName=context_13&&context_13.id;return{setters:[],execute:function execute(){exports_13("default",{get:function get(args){var params=new URLSearchParams();params.set("ts_sec",args.ts_sec.toString());params.set("ts_ns",args.ts_ns.toString());params.set("duration_sec",args.duration_sec.toString());params.set("duration_ns",args.duration_ns.toString());params.set("proto",args.proto);params.set("src_host",args.src_host);params.set("src_port",args.src_port);params.set("dst_host",args.dst_host);params.set("dst_port",args.dst_port);var query=params.toString();return{method:"GET",path:"/space/".concat(encodeURIComponent(args.spaceId),"/pcap?").concat(query)};},post:function post(_ref4){var spaceId=_ref4.spaceId,path=_ref4.path;return{method:"POST",path:"/space/".concat(encodeURIComponent(spaceId),"/pcap"),body:JSON.stringify({path:path})};}});}};});// from https://github.com/fitzgen/glob-to-regexp
System.register("node_modules/zq/zql/zql.es",[],function(exports_14,context_14){"use strict";var reglob,zql;var __moduleName=context_14&&context_14.id;function Reglob(glob,opts){if(typeof glob!=='string'){throw new TypeError('Expected a string');}var str=String(glob);// The regexp we are building, as a string.
var reStr="";// Whether we are matching so called "extended" globs (like bash) and should
// support single character matching, matching ranges of characters, group
// matching, etc.
var extended=opts?!!opts.extended:false;// When globstar is _false_ (default), '/foo/*' is translated a regexp like
// '^\/foo\/.*$' which will match any string beginning with '/foo/'
// When globstar is _true_, '/foo/*' is translated to regexp like
// '^\/foo\/[^/]*$' which will match any string beginning with '/foo/' BUT
// which does not have a '/' to the right of it.
// E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but
// these will not '/foo/bar/baz', '/foo/bar/baz.txt'
// Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when
// globstar is _false_
var globstar=opts?!!opts.globstar:false;// If we are doing extended matching, this boolean is true when we are inside
// a group (eg {*.html,*.js}), and false otherwise.
var inGroup=false;// RegExp flags (eg "i" ) to pass in to RegExp constructor.
var flags=opts&&typeof opts.flags==="string"?opts.flags:"";var c;for(var i=0,len=str.length;i<len;i++){c=str[i];switch(c){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":reStr+="\\"+c;break;case"?":if(extended){reStr+=".";break;}case"[":case"]":if(extended){reStr+=c;break;}case"{":if(extended){inGroup=true;reStr+="(";break;}case"}":if(extended){inGroup=false;reStr+=")";break;}case",":if(inGroup){reStr+="|";break;}reStr+="\\"+c;break;case'\\':if(str[i+1]=='*'){i++;reStr+='\\*';}else{reStr+=c;}break;case"*":// Move over all consecutive "*"'s.
// Also store the previous and next characters
var prevChar=str[i-1];var starCount=1;while(str[i+1]==="*"){starCount++;i++;}var nextChar=str[i+1];if(!globstar){// globstar is disabled, so treat any number of "*" as one
reStr+=".*";}else{// globstar is enabled, so determine if this is a globstar segment
var isGlobstar=starCount>1// multiple "*"'s
&&(prevChar==="/"||prevChar===undefined)// from the start of the segment
&&(nextChar==="/"||nextChar===undefined);// to the end of the segment
if(isGlobstar){// it's a globstar, so match zero or more path segments
reStr+="((?:[^/]*(?:\/|$))*)";i++;// move over the "/"
}else{// it's not a globstar, so only match one path segment
reStr+="([^/]*)";}}break;default:reStr+=c;}}// When regexp 'g' flag is specified don't
// constrain the regular expression with ^ & $
if(!flags||!~flags.indexOf('g')){reStr="^"+reStr+"$";}return reStr;}function IsGlobby(s){return s.indexOf("*")>=0||s.indexOf("?")>=0;}function peg$subclass(child,parent){function ctor(){this.constructor=child;}ctor.prototype=parent.prototype;child.prototype=new ctor();}function peg$SyntaxError(message,expected,found,location){this.message=message;this.expected=expected;this.found=found;this.location=location;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,peg$SyntaxError);}}function peg$parse(input,options){options=options!==void 0?options:{};var peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart,Expression:peg$parseExpression},peg$startRuleFunction=peg$parsestart,peg$c0=function peg$c0(ast){return ast;},peg$c1=function peg$c1(procs){var filt={"op":"FilterProc","filter":{"op":"MatchAll"}};return{"op":"SequentialProc","procs":[filt].concat(_toConsumableArray(procs))};},peg$c2=function peg$c2(s,rest){if(rest.length==0){return s;}else{return{"op":"SequentialProc","procs":[s].concat(_toConsumableArray(rest))};}},peg$c3=function peg$c3(s){return{"op":"SequentialProc","procs":[s]};},peg$c4=function peg$c4(first,rest){if(rest){return[first].concat(_toConsumableArray(rest));}else{return[first];}},peg$c5="|",peg$c6=peg$literalExpectation("|",false),peg$c7=function peg$c7(p){return p;},peg$c8=function peg$c8(expr){return{"op":"FilterProc","filter":expr};},peg$c9=function peg$c9(first,rest){return makeChain(first,rest,"LogicalOr");},peg$c10=function peg$c10(t){return t;},peg$c11=function peg$c11(first,rest){return makeChain(first,rest,"LogicalAnd");},peg$c12=function peg$c12(f){return f;},peg$c13="!",peg$c14=peg$literalExpectation("!",false),peg$c15=function peg$c15(e){return{"op":"LogicalNot","expr":e};},peg$c16="-",peg$c17=peg$literalExpectation("-",false),peg$c18=function peg$c18(s){return s;},peg$c19="(",peg$c20=peg$literalExpectation("(",false),peg$c21=")",peg$c22=peg$literalExpectation(")",false),peg$c23=function peg$c23(expr){return expr;},peg$c24="*",peg$c25=peg$literalExpectation("*",false),peg$c26=function peg$c26(comp,v){return{"op":"CompareAny","comparator":comp,"recursive":false,"value":v};},peg$c27="**",peg$c28=peg$literalExpectation("**",false),peg$c29=function peg$c29(comp,v){return{"op":"CompareAny","comparator":comp,"recursive":true,"value":v};},peg$c30=function peg$c30(f,comp,v){return{"op":"CompareField","comparator":comp,"field":f,"value":v};},peg$c31=function peg$c31(v){return{"op":"CompareAny","comparator":"in","recursive":false,"value":v};},peg$c32=function peg$c32(v,f){return{"op":"CompareField","comparator":"in","field":f,"value":v};},peg$c33=function peg$c33(v){return{"op":"Search","text":text(),"value":v};},peg$c34=function peg$c34(v){var str=v;if(str=="*"){return{"op":"MatchAll"};}var literal={"op":"Literal","type":"string","value":v};if(reglob$1.IsGlobby(str)){literal["type"]="regexp";literal["value"]=reglob$1.Reglob(str);}return{"op":"Search","text":text(),"value":literal};},peg$c35=function peg$c35(i){return i;},peg$c36=function peg$c36(v){return v;},peg$c37=function peg$c37(v){return{"op":"Literal","type":"string","value":v};},peg$c38=function peg$c38(v){return{"op":"Literal","type":"regexp","value":v};},peg$c39=function peg$c39(v){return{"op":"Literal","type":"port","value":v};},peg$c40=function peg$c40(v){return{"op":"Literal","type":"net","value":v};},peg$c41=function peg$c41(v){return{"op":"Literal","type":"ip","value":v};},peg$c42=function peg$c42(v){return{"op":"Literal","type":"float64","value":v};},peg$c43=function peg$c43(v){return{"op":"Literal","type":"int64","value":v};},peg$c44="true",peg$c45=peg$literalExpectation("true",false),peg$c46=function peg$c46(){return{"op":"Literal","type":"bool","value":"true"};},peg$c47="false",peg$c48=peg$literalExpectation("false",false),peg$c49=function peg$c49(){return{"op":"Literal","type":"bool","value":"false"};},peg$c50="null",peg$c51=peg$literalExpectation("null",false),peg$c52=function peg$c52(){return{"op":"Literal","type":"null"};},peg$c53=function peg$c53(first,rest){var fp={"op":"SequentialProc","procs":first};if(rest){return{"op":"ParallelProc","procs":[fp].concat(_toConsumableArray(rest))};}else{return fp;}},peg$c54=";",peg$c55=peg$literalExpectation(";",false),peg$c56=function peg$c56(ch){return{"op":"SequentialProc","procs":ch};},peg$c57=function peg$c57(proc){return proc;},peg$c58="by",peg$c59=peg$literalExpectation("by",true),peg$c60=",",peg$c61=peg$literalExpectation(",",false),peg$c62=function peg$c62(first,cl){return cl;},peg$c63=function peg$c63(first,rest){return[first].concat(_toConsumableArray(rest));},peg$c64=function peg$c64(field){return{"op":"ExpressionAssignment","target":text(),"expression":field};},peg$c65="every",peg$c66=peg$literalExpectation("every",true),peg$c67=function peg$c67(dur){return dur;},peg$c68="and",peg$c69=peg$literalExpectation("and",true),peg$c70=function peg$c70(){return text();},peg$c71="or",peg$c72=peg$literalExpectation("or",true),peg$c73="in",peg$c74=peg$literalExpectation("in",true),peg$c75="not",peg$c76=peg$literalExpectation("not",true),peg$c77=/^[A-Za-z_$]/,peg$c78=peg$classExpectation([["A","Z"],["a","z"],"_","$"],false,false),peg$c79=/^[0-9]/,peg$c80=peg$classExpectation([["0","9"]],false,false),peg$c81=".",peg$c82=peg$literalExpectation(".",false),peg$c83=function peg$c83(base,field){return{"op":"FieldCall","fn":"RecordFieldRead","field":null,"param":field};},peg$c84="[",peg$c85=peg$literalExpectation("[",false),peg$c86="]",peg$c87=peg$literalExpectation("]",false),peg$c88=function peg$c88(base,index){return{"op":"FieldCall","fn":"Index","field":null,"param":index};},peg$c89=function peg$c89(base,ds){var ret={"op":"FieldRead","field":base};var _iterator10=_createForOfIteratorHelper(ds),_step9;try{for(_iterator10.s();!(_step9=_iterator10.n()).done;){var d=_step9.value;var derefs=d;derefs["field"]=ret;ret=derefs;}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return ret;},peg$c90=function peg$c90(fn,field){return{"op":"FieldCall","fn":fn,"field":field,"param":null};},peg$c91="len",peg$c92=peg$literalExpectation("len",true),peg$c93=function peg$c93(){return"Len";},peg$c94=function peg$c94(first,rest){var result=[first];var _iterator11=_createForOfIteratorHelper(rest),_step10;try{for(_iterator11.s();!(_step10=_iterator11.n()).done;){var r=_step10.value;result.push(r[3]);}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return result;},peg$c95=function peg$c95(base,refs){return text();},peg$c96="count",peg$c97=peg$literalExpectation("count",true),peg$c98=function peg$c98(){return"Count";},peg$c99="sum",peg$c100=peg$literalExpectation("sum",true),peg$c101=function peg$c101(){return"Sum";},peg$c102="avg",peg$c103=peg$literalExpectation("avg",true),peg$c104=function peg$c104(){return"Avg";},peg$c105="stdev",peg$c106=peg$literalExpectation("stdev",true),peg$c107=function peg$c107(){return"Stdev";},peg$c108="sd",peg$c109=peg$literalExpectation("sd",true),peg$c110="var",peg$c111=peg$literalExpectation("var",true),peg$c112=function peg$c112(){return"Var";},peg$c113="entropy",peg$c114=peg$literalExpectation("entropy",true),peg$c115=function peg$c115(){return"Entropy";},peg$c116="min",peg$c117=peg$literalExpectation("min",true),peg$c118=function peg$c118(){return"Min";},peg$c119="max",peg$c120=peg$literalExpectation("max",true),peg$c121=function peg$c121(){return"Max";},peg$c122="first",peg$c123=peg$literalExpectation("first",true),peg$c124=function peg$c124(){return"First";},peg$c125="last",peg$c126=peg$literalExpectation("last",true),peg$c127=function peg$c127(){return"Last";},peg$c128="countdistinct",peg$c129=peg$literalExpectation("countdistinct",true),peg$c130=function peg$c130(){return"CountDistinct";},peg$c131=function peg$c131(field){return field;},peg$c132=function peg$c132(op,field){var r={"op":op,"var":"count"};if(field){r["field"]=field;}return r;},peg$c133=function peg$c133(op,field){var r={"op":op,"var":toLowerCase(op)};if(field){r["field"]=field;}return r;},peg$c134=function peg$c134(every,reducers,keys,limit){if(OR(keys,every)){if(keys){keys=keys[1];}else{keys=[];}if(every){every=every[0];}return{"op":"GroupByProc","duration":every,"limit":limit,"keys":keys,"reducers":reducers};}return{"op":"GroupByProc","reducers":reducers};},peg$c135="=",peg$c136=peg$literalExpectation("=",false),peg$c137=function peg$c137(field,f){var r=f;r["var"]=field;return r;},peg$c138=function peg$c138(first,rest){var result=[first];var _iterator12=_createForOfIteratorHelper(rest),_step11;try{for(_iterator12.s();!(_step11=_iterator12.n()).done;){var r=_step11.value;result.push(r[3]);}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}return result;},peg$c139="sort",peg$c140=peg$literalExpectation("sort",true),peg$c141=function peg$c141(args,l){return l;},peg$c142=function peg$c142(args,list){var argm=args;var proc={"op":"SortProc","fields":list,"sortdir":1,"nullsfirst":false};if("r"in argm){proc["sortdir"]=-1;}if("nulls"in argm){if(argm["nulls"]=="first"){proc["nullsfirst"]=true;}}return proc;},peg$c143=function peg$c143(a){return a;},peg$c144=function peg$c144(args){return makeArgMap(args);},peg$c145="-r",peg$c146=peg$literalExpectation("-r",false),peg$c147=function peg$c147(){return{"name":"r","value":null};},peg$c148="-nulls",peg$c149=peg$literalExpectation("-nulls",false),peg$c150=peg$literalExpectation("first",false),peg$c151=peg$literalExpectation("last",false),peg$c152=function peg$c152(where){return{"name":"nulls","value":where};},peg$c153="top",peg$c154=peg$literalExpectation("top",true),peg$c155=function peg$c155(n){return n;},peg$c156="-flush",peg$c157=peg$literalExpectation("-flush",false),peg$c158=function peg$c158(limit,flush,f){return f;},peg$c159=function peg$c159(limit,flush,fields){var proc={"op":"TopProc"};if(limit){proc["limit"]=limit;}if(fields){proc["fields"]=fields;}if(flush){proc["flush"]=true;}return proc;},peg$c160="-limit",peg$c161=peg$literalExpectation("-limit",false),peg$c162=function peg$c162(limit){return limit;},peg$c163="-c",peg$c164=peg$literalExpectation("-c",false),peg$c165=function peg$c165(){return{"name":"c","value":null};},peg$c166=function peg$c166(args){return makeArgMap(args);},peg$c167=function peg$c167(field){return{"target":"","source":field};},peg$c168="cut",peg$c169=peg$literalExpectation("cut",true),peg$c170=function peg$c170(args,first,cl){return cl;},peg$c171=function peg$c171(args,first,rest){var argm=args;var proc={"op":"CutProc","fields":[first].concat(_toConsumableArray(rest)),"complement":false};if("c"in argm){proc["complement"]=true;}return proc;},peg$c172="head",peg$c173=peg$literalExpectation("head",true),peg$c174=function peg$c174(count){return{"op":"HeadProc","count":count};},peg$c175=function peg$c175(){return{"op":"HeadProc","count":1};},peg$c176="tail",peg$c177=peg$literalExpectation("tail",true),peg$c178=function peg$c178(count){return{"op":"TailProc","count":count};},peg$c179=function peg$c179(){return{"op":"TailProc","count":1};},peg$c180="filter",peg$c181=peg$literalExpectation("filter",true),peg$c182="uniq",peg$c183=peg$literalExpectation("uniq",true),peg$c184=function peg$c184(){return{"op":"UniqProc","cflag":true};},peg$c185=function peg$c185(){return{"op":"UniqProc","cflag":false};},peg$c186="put",peg$c187=peg$literalExpectation("put",true),peg$c188=function peg$c188(first,rest){return{"op":"PutProc","clauses":[first].concat(_toConsumableArray(rest))};},peg$c189="rename",peg$c190=peg$literalExpectation("rename",true),peg$c191=function peg$c191(first,rest){return{"op":"RenameProc","fields":[first].concat(_toConsumableArray(rest))};},peg$c192="fuse",peg$c193=peg$literalExpectation("fuse",true),peg$c194=function peg$c194(){return{"op":"FuseProc"};},peg$c195=function peg$c195(f,e){return{"target":f,"expression":e};},peg$c196=function peg$c196(l,r){return{"target":l,"source":r};},peg$c197=function peg$c197(f){var ret={"op":"FieldRead","field":f};for(var _i2=0,_arr2=[];_i2<_arr2.length;_i2++){var d=_arr2[_i2];var derefs=d;derefs["field"]=ret;ret=derefs;}return ret;},peg$c198="?",peg$c199=peg$literalExpectation("?",false),peg$c200=":",peg$c201=peg$literalExpectation(":",false),peg$c202=function peg$c202(condition,thenClause,elseClause){return{"op":"ConditionalExpr","condition":condition,"then":thenClause,"else":elseClause};},peg$c203=function peg$c203(first,op,expr){return[op,expr];},peg$c204=function peg$c204(first,rest){return makeBinaryExprChain(first,rest);},peg$c205=function peg$c205(first,comp,expr){return[comp,expr];},peg$c206="=~",peg$c207=peg$literalExpectation("=~",false),peg$c208="!~",peg$c209=peg$literalExpectation("!~",false),peg$c210="!=",peg$c211=peg$literalExpectation("!=",false),peg$c212=peg$literalExpectation("in",false),peg$c213="<=",peg$c214=peg$literalExpectation("<=",false),peg$c215="<",peg$c216=peg$literalExpectation("<",false),peg$c217=">=",peg$c218=peg$literalExpectation(">=",false),peg$c219=">",peg$c220=peg$literalExpectation(">",false),peg$c221="+",peg$c222=peg$literalExpectation("+",false),peg$c223="/",peg$c224=peg$literalExpectation("/",false),peg$c225=function peg$c225(e){return{"op":"UnaryExpr","operator":"!","operand":e};},peg$c226=function peg$c226(e,ct){return ct;},peg$c227=function peg$c227(e,t){if(t){return{"op":"CastExpr","expr":e,"type":t};}else{return e;}},peg$c228="bool",peg$c229=peg$literalExpectation("bool",false),peg$c230="byte",peg$c231=peg$literalExpectation("byte",false),peg$c232="int16",peg$c233=peg$literalExpectation("int16",false),peg$c234="uint16",peg$c235=peg$literalExpectation("uint16",false),peg$c236="int32",peg$c237=peg$literalExpectation("int32",false),peg$c238="uint32",peg$c239=peg$literalExpectation("uint32",false),peg$c240="int64",peg$c241=peg$literalExpectation("int64",false),peg$c242="uint64",peg$c243=peg$literalExpectation("uint64",false),peg$c244="float64",peg$c245=peg$literalExpectation("float64",false),peg$c246="string",peg$c247=peg$literalExpectation("string",false),peg$c248="bstring",peg$c249=peg$literalExpectation("bstring",false),peg$c250="ip",peg$c251=peg$literalExpectation("ip",false),peg$c252="net",peg$c253=peg$literalExpectation("net",false),peg$c254="time",peg$c255=peg$literalExpectation("time",false),peg$c256="duration",peg$c257=peg$literalExpectation("duration",false),peg$c258=function peg$c258(fn,args){return{"op":"FunctionCall","function":fn,"args":args};},peg$c259=/^[A-Za-z]/,peg$c260=peg$classExpectation([["A","Z"],["a","z"]],false,false),peg$c261=/^[.0-9]/,peg$c262=peg$classExpectation([".",["0","9"]],false,false),peg$c263=function peg$c263(first,e){return e;},peg$c264=function peg$c264(first,rest){return[first].concat(_toConsumableArray(rest));},peg$c265=function peg$c265(){return[];},peg$c266=function peg$c266(base,index){return["[",index];},peg$c267=function peg$c267(base,field){return[".",{"op":"Literal","type":"string","value":field}];},peg$c268=function peg$c268(base,derefs){return makeBinaryExprChain(base,derefs);},peg$c269=peg$literalExpectation("and",false),peg$c270="seconds",peg$c271=peg$literalExpectation("seconds",false),peg$c272="second",peg$c273=peg$literalExpectation("second",false),peg$c274="secs",peg$c275=peg$literalExpectation("secs",false),peg$c276="sec",peg$c277=peg$literalExpectation("sec",false),peg$c278="s",peg$c279=peg$literalExpectation("s",false),peg$c280="minutes",peg$c281=peg$literalExpectation("minutes",false),peg$c282="minute",peg$c283=peg$literalExpectation("minute",false),peg$c284="mins",peg$c285=peg$literalExpectation("mins",false),peg$c286=peg$literalExpectation("min",false),peg$c287="m",peg$c288=peg$literalExpectation("m",false),peg$c289="hours",peg$c290=peg$literalExpectation("hours",false),peg$c291="hrs",peg$c292=peg$literalExpectation("hrs",false),peg$c293="hr",peg$c294=peg$literalExpectation("hr",false),peg$c295="h",peg$c296=peg$literalExpectation("h",false),peg$c297="hour",peg$c298=peg$literalExpectation("hour",false),peg$c299="days",peg$c300=peg$literalExpectation("days",false),peg$c301="day",peg$c302=peg$literalExpectation("day",false),peg$c303="d",peg$c304=peg$literalExpectation("d",false),peg$c305="weeks",peg$c306=peg$literalExpectation("weeks",false),peg$c307="week",peg$c308=peg$literalExpectation("week",false),peg$c309="wks",peg$c310=peg$literalExpectation("wks",false),peg$c311="wk",peg$c312=peg$literalExpectation("wk",false),peg$c313="w",peg$c314=peg$literalExpectation("w",false),peg$c315=function peg$c315(){return{"type":"Duration","seconds":1};},peg$c316=function peg$c316(num){return{"type":"Duration","seconds":num};},peg$c317=function peg$c317(){return{"type":"Duration","seconds":60};},peg$c318=function peg$c318(num){return{"type":"Duration","seconds":num*60};},peg$c319=function peg$c319(){return{"type":"Duration","seconds":3600};},peg$c320=function peg$c320(num){return{"type":"Duration","seconds":num*3600};},peg$c321=function peg$c321(){return{"type":"Duration","seconds":3600*24};},peg$c322=function peg$c322(num){return{"type":"Duration","seconds":num*3600*24};},peg$c323=function peg$c323(num){return{"type":"Duration","seconds":num*3600*24*7};},peg$c324=function peg$c324(a){return text();},peg$c325=function peg$c325(a,b){return joinChars(a)+b;},peg$c326="::",peg$c327=peg$literalExpectation("::",false),peg$c328=function peg$c328(a,b,d,e){return a+joinChars(b)+"::"+joinChars(d)+e;},peg$c329=function peg$c329(a,b){return"::"+joinChars(a)+b;},peg$c330=function peg$c330(a,b){return a+joinChars(b)+"::";},peg$c331=function peg$c331(){return"::";},peg$c332=function peg$c332(v){return":"+v;},peg$c333=function peg$c333(v){return v+":";},peg$c334=function peg$c334(a,m){return a+"/"+m.toString();},peg$c335=function peg$c335(a,m){return a+"/"+m;},peg$c336=function peg$c336(s){return parseInt(s);},peg$c337=/^[+\-]/,peg$c338=peg$classExpectation(["+","-"],false,false),peg$c340=function peg$c340(){return text();},peg$c341="0",peg$c342=peg$literalExpectation("0",false),peg$c343=/^[1-9]/,peg$c344=peg$classExpectation([["1","9"]],false,false),peg$c345="e",peg$c346=peg$literalExpectation("e",true),peg$c347=function peg$c347(chars){return text();},peg$c348=/^[0-9a-fA-F]/,peg$c349=peg$classExpectation([["0","9"],["a","f"],["A","F"]],false,false),peg$c350=function peg$c350(chars){return joinChars(chars);},peg$c351="\\",peg$c352=peg$literalExpectation("\\",false),peg$c353=/^[\0-\x1F\\(),!><="|';]/,peg$c354=peg$classExpectation([["\0","\x1F"],"\\","(",")",",","!",">","<","=","\"","|","'",";"],false,false),peg$c355=peg$anyExpectation(),peg$c356="\"",peg$c357=peg$literalExpectation("\"",false),peg$c358=function peg$c358(v){return joinChars(v);},peg$c359="'",peg$c360=peg$literalExpectation("'",false),peg$c361="x",peg$c362=peg$literalExpectation("x",false),peg$c363=function peg$c363(){return"\\"+text();},peg$c364="b",peg$c365=peg$literalExpectation("b",false),peg$c366=function peg$c366(){return"\b";},peg$c367="f",peg$c368=peg$literalExpectation("f",false),peg$c369=function peg$c369(){return"\f";},peg$c370="n",peg$c371=peg$literalExpectation("n",false),peg$c372=function peg$c372(){return"\n";},peg$c373="r",peg$c374=peg$literalExpectation("r",false),peg$c375=function peg$c375(){return"\r";},peg$c376="t",peg$c377=peg$literalExpectation("t",false),peg$c378=function peg$c378(){return"\t";},peg$c379="v",peg$c380=peg$literalExpectation("v",false),peg$c381=function peg$c381(){return"\v";},peg$c382=function peg$c382(){return"=";},peg$c383=function peg$c383(){return"\\*";},peg$c384="u",peg$c385=peg$literalExpectation("u",false),peg$c386=function peg$c386(chars){return makeUnicodeChar(chars);},peg$c387="{",peg$c388=peg$literalExpectation("{",false),peg$c389="}",peg$c390=peg$literalExpectation("}",false),peg$c391=/^[^\/\\]/,peg$c392=peg$classExpectation(["/","\\"],true,false),peg$c393="\\/",peg$c394=peg$literalExpectation("\\/",false),peg$c395=/^[\0-\x1F\\]/,peg$c396=peg$classExpectation([["\0","\x1F"],"\\"],false,false),peg$c397="\t",peg$c398=peg$literalExpectation("\t",false),peg$c399="\x0B",peg$c400=peg$literalExpectation("\x0B",false),peg$c401="\f",peg$c402=peg$literalExpectation("\f",false),peg$c403=" ",peg$c404=peg$literalExpectation(" ",false),peg$c405="\xA0",peg$c406=peg$literalExpectation("\xA0",false),peg$c407="\uFEFF",peg$c408=peg$literalExpectation("\uFEFF",false),peg$c409=peg$otherExpectation("whitespace"),peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+"\".");}peg$startRuleFunction=peg$startRuleFunctions[options.startRule];}function text(){return input.substring(peg$savedPos,peg$currPos);}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase};}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase};}function peg$anyExpectation(){return{type:"any"};}function peg$endExpectation(){return{type:"end"};}function peg$otherExpectation(description){return{type:"other",description:description};}function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos],p;if(details){return details;}else{p=pos-1;while(!peg$posDetailsCache[p]){p--;}details=peg$posDetailsCache[p];details={line:details.line,column:details.column};while(p<pos){if(input.charCodeAt(p)===10){details.line++;details.column=1;}else{details.column++;}p++;}peg$posDetailsCache[pos]=details;return details;}}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}};}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return;}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[];}peg$maxFailExpected.push(expected);}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location);}function peg$parsestart(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parse_();if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){s2=peg$parsequery();if(s2!==peg$FAILED){s3=peg$parse_();if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){s4=peg$parseEOF();if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c0(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsequery(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseprocChain();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c1(s1);}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesearch();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=[];s4=peg$parsechainedProc();while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsechainedProc();}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c2(s1,s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesearch();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c3(s1);}s0=s1;}}return s0;}function peg$parseprocChain(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseproc();if(s1!==peg$FAILED){s2=[];s3=peg$parsechainedProc();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsechainedProc();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c4(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsechainedProc(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parse_();if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===124){s2=peg$c5;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6);}}if(s2!==peg$FAILED){s3=peg$parse_();if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){s4=peg$parseproc();if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c7(s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesearch(){var s0,s1;s0=peg$currPos;s1=peg$parsesearchExpr();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c8(s1);}s0=s1;return s0;}function peg$parsesearchExpr(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parsesearchTerm();if(s1!==peg$FAILED){s2=[];s3=peg$parseoredSearchTerm();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseoredSearchTerm();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c9(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseoredSearchTerm(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parseorToken();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){s4=peg$parsesearchTerm();if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c10(s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesearchTerm(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parsesearchFactor();if(s1!==peg$FAILED){s2=[];s3=peg$parseandedSearchTerm();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseandedSearchTerm();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c11(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseandedSearchTerm(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parseandToken();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parsesearchFactor();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c12(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesearchFactor(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$currPos;s2=peg$parsenotToken();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}if(s1===peg$FAILED){s1=peg$currPos;if(input.charCodeAt(peg$currPos)===33){s2=peg$c13;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}if(s2!==peg$FAILED){s3=peg$parse_();if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}}if(s1!==peg$FAILED){s2=peg$parsesearchExpr();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c15(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===45){s2=peg$c16;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){s2=peg$parsesearchPred();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c18(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c19;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parsesearchExpr();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c21;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c23(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}}return s0;}function peg$parsesearchPred(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===42){s1=peg$c24;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c25);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseequalityToken();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsesearchValue();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c26(s3,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c27){s1=peg$c27;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseequalityToken();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsesearchValue();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c29(s3,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsefieldExpr();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseequalityToken();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsesearchValue();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c30(s1,s3,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesearchValue();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseinToken();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s5=peg$c24;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c25);}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c31(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesearchValue();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseinToken();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsefieldReference();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c32(s1,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesearchLiteral();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c33(s1);}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$currPos;s3=peg$parsesearchKeywords();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){s2=peg$parsesearchWord();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c34(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}}}}}}return s0;}function peg$parsesearchLiteral(){var s0,s1,s2,s3,s4;s0=peg$parseStringLiteral();if(s0===peg$FAILED){s0=peg$parseRegexpLiteral();if(s0===peg$FAILED){s0=peg$parsePortLiteral();if(s0===peg$FAILED){s0=peg$parseSubnetLiteral();if(s0===peg$FAILED){s0=peg$parseAddressLiteral();if(s0===peg$FAILED){s0=peg$parseFloatLiteral();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseIntegerLiteral();if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parsesearchWord();peg$silentFails--;if(s3===peg$FAILED){s2=void 0;}else{peg$currPos=s2;s2=peg$FAILED;}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c35(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$currPos;s3=peg$parsesearchKeywords();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){s2=peg$parseBooleanLiteral();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c36(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$currPos;s3=peg$parsesearchKeywords();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){s2=peg$parseNullLiteral();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c36(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}}}}}}}}return s0;}function peg$parsesearchValue(){var s0,s1,s2,s3,s4;s0=peg$parsesearchLiteral();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$currPos;s3=peg$parsesearchKeywords();if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){s2=peg$parsesearchWord();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c37(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parseStringLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parsequotedString();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c37(s1);}s0=s1;return s0;}function peg$parseRegexpLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parsereString();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c38(s1);}s0=s1;return s0;}function peg$parsePortLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parseport();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c39(s1);}s0=s1;return s0;}function peg$parseSubnetLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parseip6subnet();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s1);}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsesubnet();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c40(s1);}s0=s1;}return s0;}function peg$parseAddressLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parseip6addr();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c41(s1);}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseaddr();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c41(s1);}s0=s1;}return s0;}function peg$parseFloatLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parsesdouble();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c42(s1);}s0=s1;return s0;}function peg$parseIntegerLiteral(){var s0,s1;s0=peg$currPos;s1=peg$parsesinteger();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c43(s1);}s0=s1;return s0;}function peg$parseBooleanLiteral(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c44){s1=peg$c44;peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c46();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c47){s1=peg$c47;peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c48);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c49();}s0=s1;}return s0;}function peg$parseNullLiteral(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c50){s1=peg$c50;peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c51);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c52();}s0=s1;return s0;}function peg$parsesearchKeywords(){var s0;s0=peg$parseandToken();if(s0===peg$FAILED){s0=peg$parseorToken();if(s0===peg$FAILED){s0=peg$parseinToken();}}return s0;}function peg$parseprocList(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseprocChain();if(s1!==peg$FAILED){s2=[];s3=peg$parseparallelChain();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseparallelChain();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c53(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseparallelChain(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parse_();if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===59){s2=peg$c54;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c55);}}if(s2!==peg$FAILED){s3=peg$parse_();if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){s4=peg$parseprocChain();if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c56(s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseproc(){var s0,s1,s2,s3,s4,s5;s0=peg$parsesimpleProc();if(s0===peg$FAILED){s0=peg$parsegroupByProc();if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c19;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseprocList();if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c21;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c57(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}}return s0;}function peg$parsegroupByKeys(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;if(input.substr(peg$currPos,2).toLowerCase()===peg$c58){s1=input.substr(peg$currPos,2);peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c59);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parsegroupByKey();if(s3!==peg$FAILED){s4=[];s5=peg$currPos;s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s7=peg$c60;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parsegroupByKey();if(s9!==peg$FAILED){peg$savedPos=s5;s6=peg$c62(s3,s9);s5=s6;}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}while(s5!==peg$FAILED){s4.push(s5);s5=peg$currPos;s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s7=peg$c60;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parsegroupByKey();if(s9!==peg$FAILED){peg$savedPos=s5;s6=peg$c62(s3,s9);s5=s6;}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c63(s3,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsegroupByKey(){var s0,s1;s0=peg$parseExpressionAssignment();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsefieldExpr();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c64(s1);}s0=s1;}return s0;}function peg$parseeveryDur(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5).toLowerCase()===peg$c65){s1=input.substr(peg$currPos,5);peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c66);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseduration();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c67(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseequalityToken(){var s0;s0=peg$parseEqualityOperator();if(s0===peg$FAILED){s0=peg$parseRelativeOperator();}return s0;}function peg$parseandToken(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c68){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c69);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseorToken(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2).toLowerCase()===peg$c71){s1=input.substr(peg$currPos,2);peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c72);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseinToken(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2).toLowerCase()===peg$c73){s1=input.substr(peg$currPos,2);peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parsenotToken(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c75){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c76);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parsefieldName(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parsefieldNameStart();if(s1!==peg$FAILED){s2=[];s3=peg$parsefieldNameRest();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsefieldNameRest();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsefieldNameStart(){var s0;if(peg$c77.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c78);}}return s0;}function peg$parsefieldNameRest(){var s0;s0=peg$parsefieldNameStart();if(s0===peg$FAILED){if(peg$c79.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80);}}}return s0;}function peg$parsefieldReference(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;s1=peg$parsefieldName();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s4=peg$c81;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s4!==peg$FAILED){s5=peg$parsefieldName();if(s5!==peg$FAILED){peg$savedPos=s3;s4=peg$c83(s1,s5);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s4=peg$c84;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c85);}}if(s4!==peg$FAILED){s5=peg$parsesuint();if(s5!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s6=peg$c86;peg$currPos++;}else{s6=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c87);}}if(s6!==peg$FAILED){peg$savedPos=s3;s4=peg$c88(s1,s5);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s4=peg$c81;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s4!==peg$FAILED){s5=peg$parsefieldName();if(s5!==peg$FAILED){peg$savedPos=s3;s4=peg$c83(s1,s5);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s4=peg$c84;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c85);}}if(s4!==peg$FAILED){s5=peg$parsesuint();if(s5!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s6=peg$c86;peg$currPos++;}else{s6=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c87);}}if(s6!==peg$FAILED){peg$savedPos=s3;s4=peg$c88(s1,s5);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c89(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsefieldExpr(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parsefieldOp();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===40){s3=peg$c19;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsefieldReference();if(s5!==peg$FAILED){s6=peg$parse_();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s7=peg$c21;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c90(s1,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parsefieldReference();}return s0;}function peg$parsefieldOp(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c91){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c92);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c93();}s0=s1;return s0;}function peg$parsefieldExprList(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parsefieldExpr();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c60;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s5!==peg$FAILED){s6=peg$parse_();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){s7=peg$parsefieldExpr();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c60;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s5!==peg$FAILED){s6=peg$parse_();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){s7=peg$parsefieldExpr();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c94(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsefieldRefDotOnly(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parsefieldName();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s4=peg$c81;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s4!==peg$FAILED){s5=peg$parsefieldName();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s4=peg$c81;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s4!==peg$FAILED){s5=peg$parsefieldName();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c95();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsecountOp(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,5).toLowerCase()===peg$c96){s1=input.substr(peg$currPos,5);peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c97);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c98();}s0=s1;return s0;}function peg$parsefieldReducerOp(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c99){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c100);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c101();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c102){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c103);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c104();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,5).toLowerCase()===peg$c105){s1=input.substr(peg$currPos,5);peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c106);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c107();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2).toLowerCase()===peg$c108){s1=input.substr(peg$currPos,2);peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c109);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c107();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c110){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c111);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c112();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,7).toLowerCase()===peg$c113){s1=input.substr(peg$currPos,7);peg$currPos+=7;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c114);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c115();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c116){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c117);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c118();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c119){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c120);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c121();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,5).toLowerCase()===peg$c122){s1=input.substr(peg$currPos,5);peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c123);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c124();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c125){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c126);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c127();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,13).toLowerCase()===peg$c128){s1=input.substr(peg$currPos,13);peg$currPos+=13;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c129);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c130();}s0=s1;}}}}}}}}}}return s0;}function peg$parsepaddedFieldExpr(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parse_();if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){s2=peg$parsefieldExpr();if(s2!==peg$FAILED){s3=peg$parse_();if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c131(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsecountReducer(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;s1=peg$parsecountOp();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===40){s3=peg$c19;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s3!==peg$FAILED){s4=peg$parsepaddedFieldExpr();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parse_();if(s5===peg$FAILED){s5=null;}if(s5!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s6=peg$c21;peg$currPos++;}else{s6=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s6!==peg$FAILED){peg$savedPos=s0;s1=peg$c132(s1,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsefieldReducer(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parsefieldReducerOp();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===40){s3=peg$c19;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsefieldExpr();if(s5!==peg$FAILED){s6=peg$parse_();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s7=peg$c21;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c133(s1,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsegroupByProc(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$currPos;s2=peg$parseeveryDur();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){s2=[s2,s3];s1=s2;}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){s2=peg$parsereducerList();if(s2!==peg$FAILED){s3=peg$currPos;s4=peg$parse_();if(s4!==peg$FAILED){s5=peg$parsegroupByKeys();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){s4=peg$parseprocLimitArg();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c134(s1,s2,s3,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsereducerExpr(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parsefieldName();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c135;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c136);}}if(s3!==peg$FAILED){s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){s5=peg$parsereducer();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c137(s1,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parsereducer();}return s0;}function peg$parsereducer(){var s0;s0=peg$parsecountReducer();if(s0===peg$FAILED){s0=peg$parsefieldReducer();}return s0;}function peg$parsereducerList(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parsereducerExpr();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c60;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s5!==peg$FAILED){s6=peg$parse_();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){s7=peg$parsereducerExpr();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse_();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c60;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s5!==peg$FAILED){s6=peg$parse_();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){s7=peg$parsereducerExpr();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c138(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesimpleProc(){var s0;s0=peg$parsesort();if(s0===peg$FAILED){s0=peg$parsetop();if(s0===peg$FAILED){s0=peg$parsecut();if(s0===peg$FAILED){s0=peg$parsehead();if(s0===peg$FAILED){s0=peg$parsetail();if(s0===peg$FAILED){s0=peg$parsefilter();if(s0===peg$FAILED){s0=peg$parseuniq();if(s0===peg$FAILED){s0=peg$parseput();if(s0===peg$FAILED){s0=peg$parserename();if(s0===peg$FAILED){s0=peg$parsefuse();}}}}}}}}}return s0;}function peg$parsesort(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c139){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c140);}}if(s1!==peg$FAILED){s2=peg$parsesortArgs();if(s2!==peg$FAILED){s3=peg$currPos;s4=peg$parse_();if(s4!==peg$FAILED){s5=peg$parsefieldExprList();if(s5!==peg$FAILED){peg$savedPos=s3;s4=peg$c141(s2,s5);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c142(s2,s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesortArgs(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$parse_();if(s3!==peg$FAILED){s4=peg$parsesortArg();if(s4!==peg$FAILED){peg$savedPos=s2;s3=peg$c143(s4);s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$parse_();if(s3!==peg$FAILED){s4=peg$parsesortArg();if(s4!==peg$FAILED){peg$savedPos=s2;s3=peg$c143(s4);s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c144(s1);}s0=s1;return s0;}function peg$parsesortArg(){var s0,s1,s2,s3,s4;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c145){s1=peg$c145;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c146);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c147();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c148){s1=peg$c148;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c149);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$currPos;if(input.substr(peg$currPos,5)===peg$c122){s4=peg$c122;peg$currPos+=5;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c150);}}if(s4===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c125){s4=peg$c125;peg$currPos+=4;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c151);}}}if(s4!==peg$FAILED){peg$savedPos=s3;s4=peg$c70();}s3=s4;if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c152(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsetop(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c153){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c154);}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parse_();if(s3!==peg$FAILED){s4=peg$parseunsignedInteger();if(s4!==peg$FAILED){peg$savedPos=s2;s3=peg$c155(s4);s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$currPos;s4=peg$parse_();if(s4!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c156){s5=peg$c156;peg$currPos+=6;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c157);}}if(s5!==peg$FAILED){s4=[s4,s5];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=null;}if(s3!==peg$FAILED){s4=peg$currPos;s5=peg$parse_();if(s5!==peg$FAILED){s6=peg$parsefieldExprList();if(s6!==peg$FAILED){peg$savedPos=s4;s5=peg$c158(s2,s3,s6);s4=s5;}else{peg$currPos=s4;s4=peg$FAILED;}}else{peg$currPos=s4;s4=peg$FAILED;}if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c159(s2,s3,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseprocLimitArg(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){if(input.substr(peg$currPos,6)===peg$c160){s2=peg$c160;peg$currPos+=6;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c161);}}if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){s4=peg$parseunsignedInteger();if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c162(s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsecutArgs(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=[];s2=peg$currPos;s3=peg$parse_();if(s3!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c163){s4=peg$c163;peg$currPos+=2;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c164);}}if(s4!==peg$FAILED){peg$savedPos=s2;s3=peg$c165();s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}while(s2!==peg$FAILED){s1.push(s2);s2=peg$currPos;s3=peg$parse_();if(s3!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c163){s4=peg$c163;peg$currPos+=2;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c164);}}if(s4!==peg$FAILED){peg$savedPos=s2;s3=peg$c165();s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c166(s1);}s0=s1;return s0;}function peg$parsecutAssignment(){var s0,s1;s0=peg$parseFieldAssignment();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsefieldRefDotOnly();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c167(s1);}s0=s1;}return s0;}function peg$parsecut(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c168){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c169);}}if(s1!==peg$FAILED){s2=peg$parsecutArgs();if(s2!==peg$FAILED){s3=peg$parse_();if(s3!==peg$FAILED){s4=peg$parsecutAssignment();if(s4!==peg$FAILED){s5=[];s6=peg$currPos;s7=peg$parse__();if(s7!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s8=peg$c60;peg$currPos++;}else{s8=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s8!==peg$FAILED){s9=peg$parse__();if(s9!==peg$FAILED){s10=peg$parsecutAssignment();if(s10!==peg$FAILED){peg$savedPos=s6;s7=peg$c170(s2,s4,s10);s6=s7;}else{peg$currPos=s6;s6=peg$FAILED;}}else{peg$currPos=s6;s6=peg$FAILED;}}else{peg$currPos=s6;s6=peg$FAILED;}}else{peg$currPos=s6;s6=peg$FAILED;}while(s6!==peg$FAILED){s5.push(s6);s6=peg$currPos;s7=peg$parse__();if(s7!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s8=peg$c60;peg$currPos++;}else{s8=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s8!==peg$FAILED){s9=peg$parse__();if(s9!==peg$FAILED){s10=peg$parsecutAssignment();if(s10!==peg$FAILED){peg$savedPos=s6;s7=peg$c170(s2,s4,s10);s6=s7;}else{peg$currPos=s6;s6=peg$FAILED;}}else{peg$currPos=s6;s6=peg$FAILED;}}else{peg$currPos=s6;s6=peg$FAILED;}}else{peg$currPos=s6;s6=peg$FAILED;}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c171(s2,s4,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsehead(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c172){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c173);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseunsignedInteger();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c174(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c172){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c173);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c175();}s0=s1;}return s0;}function peg$parsetail(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c176){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c177);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseunsignedInteger();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c178(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c176){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c177);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c179();}s0=s1;}return s0;}function peg$parsefilter(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6).toLowerCase()===peg$c180){s1=input.substr(peg$currPos,6);peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c181);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parsesearchExpr();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c8(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseuniq(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c182){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c183);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c163){s3=peg$c163;peg$currPos+=2;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c164);}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c184();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c182){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c183);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c185();}s0=s1;}return s0;}function peg$parseput(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;if(input.substr(peg$currPos,3).toLowerCase()===peg$c186){s1=input.substr(peg$currPos,3);peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c187);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseExpressionAssignment();if(s3!==peg$FAILED){s4=[];s5=peg$currPos;s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s7=peg$c60;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parseExpressionAssignment();if(s9!==peg$FAILED){peg$savedPos=s5;s6=peg$c62(s3,s9);s5=s6;}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}while(s5!==peg$FAILED){s4.push(s5);s5=peg$currPos;s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s7=peg$c60;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parseExpressionAssignment();if(s9!==peg$FAILED){peg$savedPos=s5;s6=peg$c62(s3,s9);s5=s6;}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c188(s3,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parserename(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;if(input.substr(peg$currPos,6).toLowerCase()===peg$c189){s1=input.substr(peg$currPos,6);peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c190);}}if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){s3=peg$parseFieldAssignment();if(s3!==peg$FAILED){s4=[];s5=peg$currPos;s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s7=peg$c60;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parseFieldAssignment();if(s9!==peg$FAILED){peg$savedPos=s5;s6=peg$c62(s3,s9);s5=s6;}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}while(s5!==peg$FAILED){s4.push(s5);s5=peg$currPos;s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s7=peg$c60;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parseFieldAssignment();if(s9!==peg$FAILED){peg$savedPos=s5;s6=peg$c62(s3,s9);s5=s6;}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}else{peg$currPos=s5;s5=peg$FAILED;}}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c191(s3,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsefuse(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,4).toLowerCase()===peg$c192){s1=input.substr(peg$currPos,4);peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c193);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c194();}s0=s1;return s0;}function peg$parseExpressionAssignment(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parsefieldName();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c135;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c136);}}if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseConditionalExpression();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c195(s1,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseFieldAssignment(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parsefieldRefDotOnly();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s3=peg$c135;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c136);}}if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parsefieldRefDotOnly();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c196(s1,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsePrimaryExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$parseStringLiteral();if(s0===peg$FAILED){s0=peg$parseRegexpLiteral();if(s0===peg$FAILED){s0=peg$parsePortLiteral();if(s0===peg$FAILED){s0=peg$parseSubnetLiteral();if(s0===peg$FAILED){s0=peg$parseAddressLiteral();if(s0===peg$FAILED){s0=peg$parseFloatLiteral();if(s0===peg$FAILED){s0=peg$parseIntegerLiteral();if(s0===peg$FAILED){s0=peg$parseBooleanLiteral();if(s0===peg$FAILED){s0=peg$parseNullLiteral();if(s0===peg$FAILED){s0=peg$parseFieldReference();if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c19;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$parseConditionalExpression();if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c21;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c23(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}}}}}}}}}}return s0;}function peg$parseFieldReference(){var s0,s1;s0=peg$currPos;s1=peg$parsefieldName();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c197(s1);}s0=s1;return s0;}function peg$parseExpression(){var s0;s0=peg$parseConditionalExpression();return s0;}function peg$parseConditionalExpression(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;s1=peg$parseLogicalORExpression();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===63){s3=peg$c198;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c199);}}if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseConditionalExpression();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s7=peg$c200;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c201);}}if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){s9=peg$parseConditionalExpression();if(s9!==peg$FAILED){peg$savedPos=s0;s1=peg$c202(s1,s5,s9);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parseLogicalORExpression();}return s0;}function peg$parseLogicalORExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseLogicalANDExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseorToken();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseLogicalANDExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseorToken();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseLogicalANDExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c204(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseLogicalANDExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseEqualityCompareExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseandToken();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseEqualityCompareExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseandToken();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseEqualityCompareExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c204(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseEqualityCompareExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseRelativeExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseEqualityComparator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseRelativeExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c205(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseEqualityComparator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseRelativeExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c205(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c204(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseEqualityOperator(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c206){s1=peg$c206;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c207);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c208){s1=peg$c208;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c209);}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s1=peg$c135;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c136);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c210){s1=peg$c210;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c211);}}}}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseEqualityComparator(){var s0,s1;s0=peg$parseEqualityOperator();if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c73){s1=peg$c73;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c212);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;}return s0;}function peg$parseRelativeExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseAdditiveExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseRelativeOperator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseAdditiveExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseRelativeOperator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseAdditiveExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c204(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseRelativeOperator(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c213){s1=peg$c213;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c214);}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===60){s1=peg$c215;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c216);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c217){s1=peg$c217;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c218);}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===62){s1=peg$c219;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c220);}}}}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseAdditiveExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseMultiplicativeExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseAdditiveOperator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseMultiplicativeExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseAdditiveOperator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseMultiplicativeExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c204(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseAdditiveOperator(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===43){s1=peg$c221;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c222);}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s1=peg$c16;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseMultiplicativeExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseNotExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseMultiplicativeOperator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseNotExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseMultiplicativeOperator();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseNotExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c203(s1,s5,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c204(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseMultiplicativeOperator(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===42){s1=peg$c24;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c25);}}if(s1===peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s1=peg$c223;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c224);}}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseNotExpression(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===33){s1=peg$c13;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c14);}}if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$parseNotExpression();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c225(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parseCastExpression();}return s0;}function peg$parseCastExpression(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;s1=peg$parseCallExpression();if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parse__();if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s4=peg$c200;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c201);}}if(s4!==peg$FAILED){s5=peg$parse__();if(s5!==peg$FAILED){s6=peg$parseZngType();if(s6!==peg$FAILED){peg$savedPos=s2;s3=peg$c226(s1,s6);s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c227(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseZngType(){var s0,s1;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c228){s1=peg$c228;peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c229);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c230){s1=peg$c230;peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c231);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,5)===peg$c232){s1=peg$c232;peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c233);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,6)===peg$c234){s1=peg$c234;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c235);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,5)===peg$c236){s1=peg$c236;peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c237);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,6)===peg$c238){s1=peg$c238;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c239);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,5)===peg$c240){s1=peg$c240;peg$currPos+=5;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c241);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,6)===peg$c242){s1=peg$c242;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c243);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,7)===peg$c244){s1=peg$c244;peg$currPos+=7;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c245);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,6)===peg$c246){s1=peg$c246;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c247);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,7)===peg$c248){s1=peg$c248;peg$currPos+=7;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c249);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c250){s1=peg$c250;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c251);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c252){s1=peg$c252;peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c253);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c254){s1=peg$c254;peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c255);}}if(s1===peg$FAILED){if(input.substr(peg$currPos,8)===peg$c256){s1=peg$c256;peg$currPos+=8;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c257);}}}}}}}}}}}}}}}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseCallExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseFunctionName();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===40){s3=peg$c19;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c20);}}if(s3!==peg$FAILED){s4=peg$parseArgumentList();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c21;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22);}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c258(s1,s4);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parseDereferenceExpression();}return s0;}function peg$parseFunctionName(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseFunctionNameStart();if(s1!==peg$FAILED){s2=[];s3=peg$parseFunctionNameRest();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseFunctionNameRest();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseFunctionNameStart(){var s0;if(peg$c259.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c260);}}return s0;}function peg$parseFunctionNameRest(){var s0;s0=peg$parseFunctionNameStart();if(s0===peg$FAILED){if(peg$c261.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c262);}}}return s0;}function peg$parseArgumentList(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseConditionalExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c60;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseConditionalExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c263(s1,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===44){s5=peg$c60;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61);}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseConditionalExpression();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c263(s1,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c264(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parse__();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c265();}s0=s1;}return s0;}function peg$parseDereferenceExpression(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;s1=peg$parsePrimaryExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===91){s5=peg$c84;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c85);}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseConditionalExpression();if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s9=peg$c86;peg$currPos++;}else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c87);}}if(s9!==peg$FAILED){peg$savedPos=s3;s4=peg$c266(s1,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s5=peg$c81;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parsefieldName();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c267(s1,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===91){s5=peg$c84;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c85);}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseConditionalExpression();if(s7!==peg$FAILED){s8=peg$parse__();if(s8!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s9=peg$c86;peg$currPos++;}else{s9=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c87);}}if(s9!==peg$FAILED){peg$savedPos=s3;s4=peg$c266(s1,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3===peg$FAILED){s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s5=peg$c81;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parsefieldName();if(s7!==peg$FAILED){peg$savedPos=s3;s4=peg$c267(s1,s7);s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c268(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseduration(){var s0,s1,s2,s3,s4,s5;s0=peg$parseseconds();if(s0===peg$FAILED){s0=peg$parseminutes();if(s0===peg$FAILED){s0=peg$parsehours();if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parsehours();if(s1!==peg$FAILED){s2=peg$parse_();if(s2!==peg$FAILED){if(input.substr(peg$currPos,3)===peg$c68){s3=peg$c68;peg$currPos+=3;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c269);}}if(s3!==peg$FAILED){s4=peg$parse_();if(s4!==peg$FAILED){s5=peg$parseminutes();if(s5!==peg$FAILED){s1=[s1,s2,s3,s4,s5];s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parsedays();if(s0===peg$FAILED){s0=peg$parseweeks();}}}}}return s0;}function peg$parsesec_abbrev(){var s0;if(input.substr(peg$currPos,7)===peg$c270){s0=peg$c270;peg$currPos+=7;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c271);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,6)===peg$c272){s0=peg$c272;peg$currPos+=6;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c273);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c274){s0=peg$c274;peg$currPos+=4;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c275);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c276){s0=peg$c276;peg$currPos+=3;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c277);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===115){s0=peg$c278;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c279);}}}}}}return s0;}function peg$parsemin_abbrev(){var s0;if(input.substr(peg$currPos,7)===peg$c280){s0=peg$c280;peg$currPos+=7;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c281);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,6)===peg$c282){s0=peg$c282;peg$currPos+=6;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c283);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c284){s0=peg$c284;peg$currPos+=4;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c285);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c116){s0=peg$c116;peg$currPos+=3;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c286);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===109){s0=peg$c287;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c288);}}}}}}return s0;}function peg$parsehour_abbrev(){var s0;if(input.substr(peg$currPos,5)===peg$c289){s0=peg$c289;peg$currPos+=5;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c290);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c291){s0=peg$c291;peg$currPos+=3;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c292);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c293){s0=peg$c293;peg$currPos+=2;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c294);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===104){s0=peg$c295;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c296);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c297){s0=peg$c297;peg$currPos+=4;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c298);}}}}}}return s0;}function peg$parseday_abbrev(){var s0;if(input.substr(peg$currPos,4)===peg$c299){s0=peg$c299;peg$currPos+=4;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c300);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c301){s0=peg$c301;peg$currPos+=3;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c302);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===100){s0=peg$c303;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c304);}}}}return s0;}function peg$parseweek_abbrev(){var s0;if(input.substr(peg$currPos,5)===peg$c305){s0=peg$c305;peg$currPos+=5;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c306);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,4)===peg$c307){s0=peg$c307;peg$currPos+=4;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c308);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,3)===peg$c309){s0=peg$c309;peg$currPos+=3;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c310);}}if(s0===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c311){s0=peg$c311;peg$currPos+=2;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c312);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===119){s0=peg$c313;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c314);}}}}}}return s0;}function peg$parseseconds(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c272){s1=peg$c272;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c273);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c315();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseunsignedInteger();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parsesec_abbrev();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c316(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parseminutes(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c282){s1=peg$c282;peg$currPos+=6;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c283);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c317();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseunsignedInteger();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parsemin_abbrev();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c318(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsehours(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c297){s1=peg$c297;peg$currPos+=4;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c298);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c319();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseunsignedInteger();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parsehour_abbrev();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c320(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsedays(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c301){s1=peg$c301;peg$currPos+=3;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c302);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c321();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseunsignedInteger();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseday_abbrev();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c322(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parseweeks(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseunsignedInteger();if(s1!==peg$FAILED){s2=peg$parse_();if(s2===peg$FAILED){s2=null;}if(s2!==peg$FAILED){s3=peg$parseweek_abbrev();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c323(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseaddr(){var s0,s1,s2,s3,s4,s5,s6,s7,s8;s0=peg$currPos;s1=peg$currPos;s2=peg$parseunsignedInteger();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s3=peg$c81;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s3!==peg$FAILED){s4=peg$parseunsignedInteger();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s5=peg$c81;peg$currPos++;}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s5!==peg$FAILED){s6=peg$parseunsignedInteger();if(s6!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s7=peg$c81;peg$currPos++;}else{s7=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s7!==peg$FAILED){s8=peg$parseunsignedInteger();if(s8!==peg$FAILED){s2=[s2,s3,s4,s5,s6,s7,s8];s1=s2;}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c324();}s0=s1;return s0;}function peg$parseport(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===58){s1=peg$c200;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c201);}}if(s1!==peg$FAILED){s2=peg$parsesuint();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c36(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseip6addr(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=[];s2=peg$parseh_prepend();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parseh_prepend();}}else{s1=peg$FAILED;}if(s1!==peg$FAILED){s2=peg$parseip6tail();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c325(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseh16();if(s1!==peg$FAILED){s2=[];s3=peg$parseh_append();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseh_append();}if(s2!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c326){s3=peg$c326;peg$currPos+=2;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c327);}}if(s3!==peg$FAILED){s4=[];s5=peg$parseh_prepend();while(s5!==peg$FAILED){s4.push(s5);s5=peg$parseh_prepend();}if(s4!==peg$FAILED){s5=peg$parseip6tail();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c328(s1,s2,s4,s5);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c326){s1=peg$c326;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c327);}}if(s1!==peg$FAILED){s2=[];s3=peg$parseh_prepend();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseh_prepend();}if(s2!==peg$FAILED){s3=peg$parseip6tail();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c329(s2,s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parseh16();if(s1!==peg$FAILED){s2=[];s3=peg$parseh_append();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseh_append();}if(s2!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c326){s3=peg$c326;peg$currPos+=2;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c327);}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c330(s1,s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c326){s1=peg$c326;peg$currPos+=2;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c327);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c331();}s0=s1;}}}}return s0;}function peg$parseip6tail(){var s0;s0=peg$parseaddr();if(s0===peg$FAILED){s0=peg$parseh16();}return s0;}function peg$parseh_append(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===58){s1=peg$c200;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c201);}}if(s1!==peg$FAILED){s2=peg$parseh16();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c332(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseh_prepend(){var s0,s1,s2;s0=peg$currPos;s1=peg$parseh16();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s2=peg$c200;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c201);}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c333(s1);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesubnet(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseaddr();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s2=peg$c223;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c224);}}if(s2!==peg$FAILED){s3=peg$parseunsignedInteger();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c334(s1,s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseip6subnet(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseip6addr();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s2=peg$c223;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c224);}}if(s2!==peg$FAILED){s3=peg$parseunsignedInteger();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c335(s1,s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseunsignedInteger(){var s0,s1;s0=peg$currPos;s1=peg$parsesuint();if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c336(s1);}s0=s1;return s0;}function peg$parsesuint(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c79.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80);}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c79.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80);}}}}else{s1=peg$FAILED;}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parsesinteger(){var s0,s1,s2;s0=peg$currPos;if(peg$c337.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c338);}}if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){s2=peg$parsesuint();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsesdouble(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c16;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){s2=[];s3=peg$parsedoubleInteger();if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedoubleInteger();}}else{s2=peg$FAILED;}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s3=peg$c81;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s3!==peg$FAILED){s4=[];s5=peg$parsedoubleDigit();if(s5!==peg$FAILED){while(s5!==peg$FAILED){s4.push(s5);s5=peg$parsedoubleDigit();}}else{s4=peg$FAILED;}if(s4!==peg$FAILED){s5=peg$parseexponentPart();if(s5===peg$FAILED){s5=null;}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c340();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===45){s1=peg$c16;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17);}}if(s1===peg$FAILED){s1=null;}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===46){s2=peg$c81;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82);}}if(s2!==peg$FAILED){s3=[];s4=peg$parsedoubleDigit();if(s4!==peg$FAILED){while(s4!==peg$FAILED){s3.push(s4);s4=peg$parsedoubleDigit();}}else{s3=peg$FAILED;}if(s3!==peg$FAILED){s4=peg$parseexponentPart();if(s4===peg$FAILED){s4=null;}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c340();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsedoubleInteger(){var s0,s1,s2,s3;if(input.charCodeAt(peg$currPos)===48){s0=peg$c341;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c342);}}if(s0===peg$FAILED){s0=peg$currPos;if(peg$c343.test(input.charAt(peg$currPos))){s1=input.charAt(peg$currPos);peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c344);}}if(s1!==peg$FAILED){s2=[];if(peg$c79.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80);}}while(s3!==peg$FAILED){s2.push(s3);if(peg$c79.test(input.charAt(peg$currPos))){s3=input.charAt(peg$currPos);peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80);}}}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsedoubleDigit(){var s0;if(peg$c79.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80);}}return s0;}function peg$parseexponentPart(){var s0,s1,s2;s0=peg$currPos;if(input.substr(peg$currPos,1).toLowerCase()===peg$c345){s1=input.charAt(peg$currPos);peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c346);}}if(s1!==peg$FAILED){s2=peg$parsesinteger();if(s2!==peg$FAILED){s1=[s1,s2];s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parseh16(){var s0,s1,s2;s0=peg$currPos;s1=[];s2=peg$parsehexdigit();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsehexdigit();}}else{s1=peg$FAILED;}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c347();}s0=s1;return s0;}function peg$parsehexdigit(){var s0;if(peg$c348.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c349);}}return s0;}function peg$parsesearchWord(){var s0,s1,s2;s0=peg$currPos;s1=[];s2=peg$parsesearchWordPart();if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);s2=peg$parsesearchWordPart();}}else{s1=peg$FAILED;}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c350(s1);}s0=s1;return s0;}function peg$parsesearchWordPart(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c351;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c352);}}if(s1!==peg$FAILED){s2=peg$parseescapeSequence();if(s2===peg$FAILED){s2=peg$parsesearchEscape();}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c18(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(peg$c353.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c354);}}if(s2===peg$FAILED){s2=peg$parsews();}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c355);}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsequotedString(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c356;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c357);}}if(s1!==peg$FAILED){s2=[];s3=peg$parsedoubleQuotedChar();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsedoubleQuotedChar();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s3=peg$c356;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c357);}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c358(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c359;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c360);}}if(s1!==peg$FAILED){s2=[];s3=peg$parsesingleQuotedChar();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parsesingleQuotedChar();}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c359;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c360);}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c358(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsedoubleQuotedChar(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===34){s2=peg$c356;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c357);}}if(s2===peg$FAILED){s2=peg$parseescapedChar();}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c355);}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c351;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c352);}}if(s1!==peg$FAILED){s2=peg$parseescapeSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c18(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsesingleQuotedChar(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===39){s2=peg$c359;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c360);}}if(s2===peg$FAILED){s2=peg$parseescapedChar();}peg$silentFails--;if(s2===peg$FAILED){s1=void 0;}else{peg$currPos=s1;s1=peg$FAILED;}if(s1!==peg$FAILED){if(input.length>peg$currPos){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c355);}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c351;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c352);}}if(s1!==peg$FAILED){s2=peg$parseescapeSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c18(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parseescapeSequence(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===120){s1=peg$c361;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c362);}}if(s1!==peg$FAILED){s2=peg$parsehexdigit();if(s2!==peg$FAILED){s3=peg$parsehexdigit();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c363();s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$parsesingleCharEscape();if(s0===peg$FAILED){s0=peg$parseunicodeEscape();}}return s0;}function peg$parsesingleCharEscape(){var s0,s1;if(input.charCodeAt(peg$currPos)===39){s0=peg$c359;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c360);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s0=peg$c356;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c357);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s0=peg$c351;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c352);}}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===98){s1=peg$c364;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c365);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c366();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===102){s1=peg$c367;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c368);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c369();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===110){s1=peg$c370;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c371);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c372();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===114){s1=peg$c373;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c374);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c375();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===116){s1=peg$c376;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c377);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c378();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===118){s1=peg$c379;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c380);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c381();}s0=s1;}}}}}}}}return s0;}function peg$parsesearchEscape(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===61){s1=peg$c135;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c136);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c382();}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===42){s1=peg$c24;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c25);}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c383();}s0=s1;}return s0;}function peg$parseunicodeEscape(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===117){s1=peg$c384;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c385);}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parsehexdigit();if(s3!==peg$FAILED){s4=peg$parsehexdigit();if(s4!==peg$FAILED){s5=peg$parsehexdigit();if(s5!==peg$FAILED){s6=peg$parsehexdigit();if(s6!==peg$FAILED){s3=[s3,s4,s5,s6];s2=s3;}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}}else{peg$currPos=s2;s2=peg$FAILED;}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c386(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===117){s1=peg$c384;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c385);}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===123){s2=peg$c387;peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c388);}}if(s2!==peg$FAILED){s3=peg$currPos;s4=peg$parsehexdigit();if(s4!==peg$FAILED){s5=peg$parsehexdigit();if(s5===peg$FAILED){s5=null;}if(s5!==peg$FAILED){s6=peg$parsehexdigit();if(s6===peg$FAILED){s6=null;}if(s6!==peg$FAILED){s7=peg$parsehexdigit();if(s7===peg$FAILED){s7=null;}if(s7!==peg$FAILED){s8=peg$parsehexdigit();if(s8===peg$FAILED){s8=null;}if(s8!==peg$FAILED){s9=peg$parsehexdigit();if(s9===peg$FAILED){s9=null;}if(s9!==peg$FAILED){s4=[s4,s5,s6,s7,s8,s9];s3=s4;}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}}else{peg$currPos=s3;s3=peg$FAILED;}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s4=peg$c389;peg$currPos++;}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c390);}}if(s4!==peg$FAILED){peg$savedPos=s0;s1=peg$c386(s3);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}return s0;}function peg$parsereString(){var s0,s1,s2,s3;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===47){s1=peg$c223;peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c224);}}if(s1!==peg$FAILED){s2=peg$parsereBody();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s3=peg$c223;peg$currPos++;}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c224);}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c36(s2);s0=s1;}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}function peg$parsereBody(){var s0,s1,s2;s0=peg$currPos;s1=[];if(peg$c391.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c392);}}if(s2===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c393){s2=peg$c393;peg$currPos+=2;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c394);}}}if(s2!==peg$FAILED){while(s2!==peg$FAILED){s1.push(s2);if(peg$c391.test(input.charAt(peg$currPos))){s2=input.charAt(peg$currPos);peg$currPos++;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c392);}}if(s2===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c393){s2=peg$c393;peg$currPos+=2;}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c394);}}}}}else{s1=peg$FAILED;}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c70();}s0=s1;return s0;}function peg$parseescapedChar(){var s0;if(peg$c395.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c396);}}return s0;}function peg$parsews(){var s0;if(input.charCodeAt(peg$currPos)===9){s0=peg$c397;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c398);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===11){s0=peg$c399;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c400);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===12){s0=peg$c401;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c402);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===32){s0=peg$c403;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c404);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===160){s0=peg$c405;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c406);}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===65279){s0=peg$c407;peg$currPos++;}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c408);}}}}}}}return s0;}function peg$parse_(){var s0,s1;peg$silentFails++;s0=[];s1=peg$parsews();if(s1!==peg$FAILED){while(s1!==peg$FAILED){s0.push(s1);s1=peg$parsews();}}else{s0=peg$FAILED;}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c409);}}return s0;}function peg$parse__(){var s0,s1;s0=[];s1=peg$parsews();while(s1!==peg$FAILED){s0.push(s1);s1=peg$parsews();}return s0;}function peg$parseEOF(){var s0,s1;s0=peg$currPos;peg$silentFails++;if(input.length>peg$currPos){s1=input.charAt(peg$currPos);peg$currPos++;}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c355);}}peg$silentFails--;if(s1===peg$FAILED){s0=void 0;}else{peg$currPos=s0;s0=peg$FAILED;}return s0;}var reglob$1=reglob;function makeChain(first,rest,op){if(!rest||rest.length==0){return first;}var result=first;var _iterator13=_createForOfIteratorHelper(rest),_step12;try{for(_iterator13.s();!(_step12=_iterator13.n()).done;){var term=_step12.value;result={op:op,left:result,right:term};}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return result;}function makeArgMap(args){var m={};var _iterator14=_createForOfIteratorHelper(args),_step13;try{for(_iterator14.s();!(_step13=_iterator14.n()).done;){var arg=_step13.value;if(arg.name in m){throw new Error("Duplicate argument -".concat(arg.name));}m[arg.name]=arg.value;}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return m;}function makeBinaryExprChain(first,rest){var ret=first;var _iterator15=_createForOfIteratorHelper(rest),_step14;try{for(_iterator15.s();!(_step14=_iterator15.n()).done;){var part=_step14.value;ret={op:"BinaryExpr",operator:part[0],lhs:ret,rhs:part[1]};}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return ret;}function joinChars(chars){return chars.join("");}function toLowerCase(str){return str.toLowerCase();}function OR(a,b){return a||b;}function makeUnicodeChar(chars){var n=parseInt(chars.join(""),16);if(n<0x10000){return String.fromCharCode(n);}// stupid javascript 16 bit code points...
n-=0x10000;var surrogate1=0xD800+(n>>10&0x7ff);var surrogate2=0xDC00+(n&0x3ff);return String.fromCharCode(surrogate1)+String.fromCharCode(surrogate2);}peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result;}else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail(peg$endExpectation());}throw peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos));}}return{setters:[],execute:function execute(){reglob={Reglob:Reglob,IsGlobby:IsGlobby};peg$subclass(peg$SyntaxError,Error);peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function literal(expectation){return"\""+literalEscape(expectation.text)+"\"";},"class":function _class(expectation){var escapedParts="",i;for(i=0;i<expectation.parts.length;i++){escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i]);}return"["+(expectation.inverted?"^":"")+escapedParts+"]";},any:function any(expectation){return"any character";},end:function end(expectation){return"end of input";},other:function other(expectation){return expectation.description;}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase();}function literalEscape(s){return s.replace(/\\/g,'\\\\').replace(/"/g,'\\"').replace(/\0/g,'\\0').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/[\x00-\x0F]/g,function(ch){return'\\x0'+hex(ch);}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return'\\x'+hex(ch);});}function classEscape(s){return s.replace(/\\/g,'\\\\').replace(/\]/g,'\\]').replace(/\^/g,'\\^').replace(/-/g,'\\-').replace(/\0/g,'\\0').replace(/\t/g,'\\t').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/[\x00-\x0F]/g,function(ch){return'\\x0'+hex(ch);}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(ch){return'\\x'+hex(ch);});}function describeExpectation(expectation){return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);}function describeExpected(expected){var descriptions=new Array(expected.length),i,j;for(i=0;i<expected.length;i++){descriptions[i]=describeExpectation(expected[i]);}descriptions.sort();if(descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++){if(descriptions[i-1]!==descriptions[i]){descriptions[j]=descriptions[i];j++;}}descriptions.length=j;}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1];}}function describeFound(found){return found?"\""+literalEscape(found)+"\"":"end of input";}return"Expected "+describeExpected(expected)+" but "+describeFound(found)+" found.";};zql={SyntaxError:peg$SyntaxError,parse:peg$parse};exports_14("default",zql);}};});System.register("zealot/util/time",["zealot/util/utils"],function(exports_15,context_15){"use strict";var utils_ts_4;var __moduleName=context_15&&context_15.id;function fracSecToNs(string){var _string$split=string.split("."),_string$split2=_slicedToArray(_string$split,2),sec=_string$split2[0],frac=_string$split2[1];var secNs=BigInt(parseInt(sec))*BigInt(1e9);var fracNs=BigInt(parseInt(frac)*Math.pow(10,9-frac.length));return secNs+fracNs;}function convertToNs(val){if(utils_ts_4.isDate(val))return BigInt(val.getTime())*BigInt(1e6);if(utils_ts_4.isBigInt(val))return val;if(utils_ts_4.isTs(val))return BigInt(1e9)*BigInt(val.sec)+BigInt(val.ns);if(utils_ts_4.isFracSec(val))return fracSecToNs(val);throw new Error("Unknown time format: ".concat(val));}function createTime(){var val=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();var ns=convertToNs(val);return{toNs:function toNs(){return ns;},toTs:function toTs(){var sec=ns/BigInt(1e9);var restNs=ns-sec*BigInt(1e9);return{sec:Number(sec),ns:Number(restNs)};}};}exports_15("createTime",createTime);return{setters:[function(utils_ts_4_1){utils_ts_4=utils_ts_4_1;}],execute:function execute(){}};});System.register("zealot/util/span",["zealot/util/time"],function(exports_16,context_16){"use strict";var time_ts_1;var __moduleName=context_16&&context_16.id;function createSpan(from,to){var f=time_ts_1.createTime(from);var t=time_ts_1.createTime(to);return{ts:f.toTs(),dur:time_ts_1.createTime(t.toNs()-f.toNs()).toTs()};}exports_16("createSpan",createSpan);return{setters:[function(time_ts_1_1){time_ts_1=time_ts_1_1;}],execute:function execute(){}};});System.register("zealot/api/search",["node_modules/zq/zql/zql.es","zealot/util/span"],function(exports_17,context_17){"use strict";var zql_es_js_1,span_ts_1;var __moduleName=context_17&&context_17.id;function searchApi(zql,args){return{method:"POST",path:"/search?".concat(getQueryParams(args)),body:JSON.stringify(getSearchBody(zql,args)),enhancers:args.enhancers||[],signal:args.signal};}exports_17("default",searchApi);function getQueryParams(args){var p=new URLSearchParams();p.set("format",args.format);if(args.controlMessages===false){p.set("noctrl","true");}return p.toString();}function getSearchBody(zql,_ref5){var spaceId=_ref5.spaceId,from=_ref5.from,to=_ref5.to;var proc=zql_es_js_1["default"].parse(zql);var span=span_ts_1.createSpan(from,to);return{proc:proc,span:span,space:spaceId,dir:-1};}exports_17("getSearchBody",getSearchBody);return{setters:[function(zql_es_js_1_1){zql_es_js_1=zql_es_js_1_1;},function(span_ts_1_1){span_ts_1=span_ts_1_1;}],execute:function execute(){}};});System.register("zealot/api/spaces",[],function(exports_18,context_18){"use strict";var __moduleName=context_18&&context_18.id;return{setters:[],execute:function execute(){exports_18("default",{list:function list(){return{path:"/space",method:"GET"};},get:function get(spaceId){return{path:"/space/".concat(encodeURIComponent(spaceId)),method:"GET"};},stat:function stat(spaceId,args){return{path:"/space/".concat(encodeURIComponent(spaceId),"/archivestat?format=ndjson"),method:"GET",enhancers:args.enhancers};},create:function create(args){return{path:"/space",method:"POST",body:JSON.stringify(args)};},"delete":function _delete(spaceId){return{path:"/space/".concat(encodeURIComponent(spaceId)),method:"DELETE"};},update:function update(spaceId,args){return{path:"/space/".concat(encodeURIComponent(spaceId)),method:"PUT",body:JSON.stringify(args)};}});}};});System.register("zealot/api/archive",[],function(exports_19,context_19){"use strict";var __moduleName=context_19&&context_19.id;function search(_ref6){var spaceId=_ref6.spaceId,index_name=_ref6.index_name,patterns=_ref6.patterns,signal=_ref6.signal;return{method:"POST",path:"/space/".concat(spaceId,"/indexsearch?format=ndjson"),body:JSON.stringify({index_name:index_name,patterns:patterns}),signal:signal};}exports_19("search",search);return{setters:[],execute:function execute(){}};});System.register("zealot/api/subspaces",[],function(exports_20,context_20){"use strict";var __moduleName=context_20&&context_20.id;function create(_ref7){var name=_ref7.name,logs=_ref7.logs,spaceId=_ref7.spaceId;return{method:"POST",path:"/space/".concat(spaceId,"/subspace"),body:JSON.stringify({name:name,open_options:{log_filter:logs}})};}exports_20("create",create);return{setters:[],execute:function execute(){}};});System.register("zealot/api/mod",["zealot/api/logs","zealot/api/pcaps","zealot/api/search","zealot/api/spaces","zealot/api/archive","zealot/api/subspaces"],function(exports_21,context_21){"use strict";var logs_ts_1,pcaps_ts_1,search_ts_1,spaces_ts_1,archive,subspaces;var __moduleName=context_21&&context_21.id;return{setters:[function(logs_ts_1_1){logs_ts_1=logs_ts_1_1;},function(pcaps_ts_1_1){pcaps_ts_1=pcaps_ts_1_1;},function(search_ts_1_1){search_ts_1=search_ts_1_1;},function(spaces_ts_1_1){spaces_ts_1=spaces_ts_1_1;},function(archive_1){archive=archive_1;},function(subspaces_1){subspaces=subspaces_1;}],execute:function execute(){exports_21("logs",logs_ts_1["default"]);exports_21("pcaps",pcaps_ts_1["default"]);exports_21("search",search_ts_1["default"]);exports_21("spaces",spaces_ts_1["default"]);exports_21("archive",archive);exports_21("subspaces",subspaces);}};});System.register("zealot/util/host",[],function(exports_22,context_22){"use strict";var __moduleName=context_22&&context_22.id;function getHost(hostUrl){var defaultPort=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"9867";var _hostUrl$split=hostUrl.split(":"),_hostUrl$split2=_slicedToArray(_hostUrl$split,2),host=_hostUrl$split2[0],port=_hostUrl$split2[1];port=port?port:defaultPort;return host+":"+port;}exports_22("getHost",getHost);return{setters:[],execute:function execute(){}};});System.register("zealot/enhancers/flatRecords",["zealot/util/utils"],function(exports_23,context_23){"use strict";var utils_ts_5;var __moduleName=context_23&&context_23.id;function zip(values,columns){if(typeof values==="string")return[];else{return values.map(function(value,index){var _columns$index=columns[index],name=_columns$index.name,type=_columns$index.type;return utils_ts_5.isString(type)?{name:name,type:type,value:value}:{name:name,type:"record",value:zip(value,type)};});}}function flattenFields(_ref8){var name=_ref8.name,value=_ref8.value,type=_ref8.type;var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return type==="record"?// @ts-ignore
flattenRecord(value,"".concat(name,".")):[{name:prefix+name,type:type,value:value}];}function flattenRecord(record){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return record.reduce(// @ts-ignore
function(array,field){return array.concat(flattenFields(field,prefix));},[]);}function flattenType(descriptor){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return descriptor.reduce(function(flat,_ref9){var name=_ref9.name,type=_ref9.type;var cols=Array.isArray(type)?flattenType(type,"".concat(prefix).concat(name,".")):[{name:prefix+name,type:type}];return flat.concat(cols);},[]);}function flatRecords(){var flat_types={};var types={};return function(payload){if(payload.type==="SearchRecords"){var flat_records=payload.records.map(function(r){if(r.type){types[r.id]=r.type;flat_types[r.id]=flattenType(r.type);}// @ts-ignore
return flattenRecord(zip(r.values,types[r.id]),"");});return _objectSpread(_objectSpread({},payload),{},{flat_records:flat_records,flat_types:flat_types});}return payload;};}exports_23("flatRecords",flatRecords);return{setters:[function(utils_ts_5_1){utils_ts_5=utils_ts_5_1;}],execute:function execute(){}};});System.register("zealot/enhancers/totalRecords",[],function(exports_24,context_24){"use strict";var __moduleName=context_24&&context_24.id;function totalRecords(){var total_records=0;return function(payload){if(payload.type==="TaskEnd"){return _objectSpread(_objectSpread({},payload),{},{total_records:total_records});}else if(payload.type==="SearchRecords"){total_records+=payload.records.length;}return payload;};}exports_24("totalRecords",totalRecords);return{setters:[],execute:function execute(){}};});System.register("zealot/enhancers/zngToZeek",["zealot/util/utils"],function(exports_25,context_25){"use strict";var utils_ts_6,COMPOUND_FIELD_RGX;var __moduleName=context_25&&context_25.id;function getSingleZeekType(type){switch(type){case"byte":case"int16":case"int32":case"int64":case"uint16":case"uint32":return"int";case"uint64":return"count";case"float64":return"double";case"ip":return"addr";case"net":return"subnet";case"duration":return"interval";case"bstring":return"string";case"zenum":return"enum";default:return type;}}function getZeekType(type){var match=type.match(COMPOUND_FIELD_RGX);if(match){var _match=_slicedToArray(match,3),_=_match[0],container=_match[1],itemType=_match[2];var zeekType=getSingleZeekType(itemType);return"".concat(container,"[").concat(zeekType,"]");}else{return getSingleZeekType(type);}}function recursiveReplace(zng){if(utils_ts_6.isString(zng))return getZeekType(zng);else return replaceTypes(zng);}function replaceTypes(zng){return zng.map(function(t){return{name:t.name,type:recursiveReplace(t.type)};});}exports_25("replaceTypes",replaceTypes);function replaceTypesInRecord(record){if(record.type)record.type=replaceTypes(record.type);return record;}function zngToZeek(){return function(payload){if(payload.type==="SearchRecords"){return _objectSpread(_objectSpread({},payload),{},{records:payload.records.map(function(r){return replaceTypesInRecord(r);})});}else{return payload;}};}exports_25("zngToZeek",zngToZeek);return{setters:[function(utils_ts_6_1){utils_ts_6=utils_ts_6_1;}],execute:function execute(){COMPOUND_FIELD_RGX=/^(set|array)\[(\w+)\]$/;}};});System.register("zealot/enhancers/mod",["zealot/enhancers/flatRecords","zealot/enhancers/totalRecords","zealot/enhancers/zngToZeek"],function(exports_26,context_26){"use strict";var __moduleName=context_26&&context_26.id;function exportStar_1(m){var exports={};for(var n in m){if(n!=="default")exports[n]=m[n];}exports_26(exports);}return{setters:[function(flatRecords_ts_1_1){exportStar_1(flatRecords_ts_1_1);},function(totalRecords_ts_1_1){exportStar_1(totalRecords_ts_1_1);},function(zngToZeek_ts_1_1){exportStar_1(zngToZeek_ts_1_1);}],execute:function execute(){}};});System.register("zealot/config/search_args",["zealot/enhancers/mod"],function(exports_27,context_27){"use strict";var mod_ts_1;var __moduleName=context_27&&context_27.id;function getDefaultSearchArgs(){return{from:new Date(new Date().getTime()-30*24*60*60*1000),to:new Date(),spaceId:"default",format:"zjson",controlMessages:true,enhancers:[mod_ts_1.zngToZeek,mod_ts_1.flatRecords,mod_ts_1.totalRecords]};}exports_27("getDefaultSearchArgs",getDefaultSearchArgs);return{setters:[function(mod_ts_1_1){mod_ts_1=mod_ts_1_1;}],execute:function execute(){}};});System.register("zealot/zealot",["zealot/fetcher/fetcher","zealot/api/mod","zealot/util/host","zealot/config/search_args"],function(exports_28,context_28){"use strict";var fetcher_ts_1,mod_ts_2,host_ts_1,search_args_ts_1;var __moduleName=context_28&&context_28.id;function createZealot(hostUrl){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{fetcher:fetcher_ts_1.createFetcher};var host=host_ts_1.getHost(hostUrl);var _args$fetcher=args.fetcher(host),promise=_args$fetcher.promise,stream=_args$fetcher.stream;var searchArgs=search_args_ts_1.getDefaultSearchArgs();return{setSearchOptions:function setSearchOptions(args){searchArgs=_objectSpread(_objectSpread({},searchArgs),args);},status:function status(){return promise({method:"GET",path:"/status"});},search:function search(zql,args){return stream(mod_ts_2.search(zql,_objectSpread(_objectSpread({},searchArgs),args)));},archive:{search:function search(args){return stream(_objectSpread(_objectSpread({},mod_ts_2.archive.search(args)),{},{enhancers:searchArgs.enhancers}));}},spaces:{list:function list(){return promise(mod_ts_2.spaces.list());},get:function get(id){return promise(mod_ts_2.spaces.get(id));},stat:function stat(id,args){return stream(mod_ts_2.spaces.stat(id,_objectSpread(_objectSpread({},searchArgs),args)));},create:function create(args){return promise(mod_ts_2.spaces.create(args));},"delete":function _delete(id){return promise(mod_ts_2.spaces["delete"](id));},update:function update(id,args){return promise(mod_ts_2.spaces.update(id,args));}},subspaces:{create:function create(args){return promise(mod_ts_2.subspaces.create(args));}},pcaps:{post:function post(args){return stream(mod_ts_2.pcaps.post(args));},get:function get(args){return promise(mod_ts_2.pcaps.get(args));}},logs:{post:function post(args){return stream(mod_ts_2.logs.post(args));}},inspect:{search:function search(zql,args){return mod_ts_2.search(zql,_objectSpread(_objectSpread({},searchArgs),args));}}};}exports_28("createZealot",createZealot);return{setters:[function(fetcher_ts_1_1){fetcher_ts_1=fetcher_ts_1_1;},function(mod_ts_2_1){mod_ts_2=mod_ts_2_1;},function(host_ts_1_1){host_ts_1=host_ts_1_1;},function(search_args_ts_1_1){search_args_ts_1=search_args_ts_1_1;}],execute:function execute(){}};});System.register("zealot/zealot_mock",["zealot/zealot","zealot/fetcher/stream"],function(exports_29,context_29){"use strict";var zealot_ts_1,stream_ts_2;var __moduleName=context_29&&context_29.id;function fakeFetcher(){return{promise:function promise(_ref10){var method=_ref10.method,path=_ref10.path;throw new Error("NoNetwork: You must stub: ".concat(method," ").concat(path));},stream:function stream(_ref11){var method=_ref11.method,path=_ref11.path;throw new Error("NoNetwork: You must stub: ".concat(method," ").concat(path));}};}function promise(response){return Promise.resolve(response);}function stream(response){function iterator(){return _iterator7.apply(this,arguments);}function _iterator7(){_iterator7=_wrapAsyncGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(){var _iterator16,_step15,payload;return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!response){_context12.next=18;break;}_iterator16=_createForOfIteratorHelper(response);_context12.prev=2;_iterator16.s();case 4:if((_step15=_iterator16.n()).done){_context12.next=10;break;}payload=_step15.value;_context12.next=8;return payload;case 8:_context12.next=4;break;case 10:_context12.next=15;break;case 12:_context12.prev=12;_context12.t0=_context12["catch"](2);_iterator16.e(_context12.t0);case 15:_context12.prev=15;_iterator16.f();return _context12.finish(15);case 18:case"end":return _context12.stop();}}},_callee12,null,[[2,12,15,18]]);}));return _iterator7.apply(this,arguments);}return Promise.resolve(stream_ts_2.createStream(iterator(),{}));}function createZealotMock(){var mock=zealot_ts_1.createZealot("unit.test",{fetcher:fakeFetcher});var calls=[];function stub(method,output,wrapper){var _method$split=method.split("."),_method$split2=_slicedToArray(_method$split,2),resource=_method$split2[0],action=_method$split2[1];var fn=function fn(input){calls.push({method:method,args:input});return wrapper(output);};if(action){// @ts-ignore
mock[resource][action]=fn;}else{// @ts-ignore
mock[resource]=fn;}return mock;}// @ts-ignore
mock.stubStream=function(method,output){return stub(method,output,stream);};// @ts-ignore
mock.stubPromise=function(method,output){return stub(method,output,promise);};// @ts-ignore
mock.calls=function(method){return calls.filter(function(c){return c.method===method;});};return mock;}exports_29("createZealotMock",createZealotMock);return{setters:[function(zealot_ts_1_1){zealot_ts_1=zealot_ts_1_1;},function(stream_ts_2_1){stream_ts_2=stream_ts_2_1;}],execute:function execute(){}};});System.register("zealot/mod",["zealot/zealot","zealot/zealot_mock"],function(exports_30,context_30){"use strict";var __moduleName=context_30&&context_30.id;function exportStar_2(m){var exports={};for(var n in m){if(n!=="default")exports[n]=m[n];}exports_30(exports);}return{setters:[function(zealot_ts_2_1){exportStar_2(zealot_ts_2_1);},function(zealot_mock_ts_1_1){exportStar_2(zealot_mock_ts_1_1);}],execute:function execute(){}};});var __exp=_instantiate("zealot/mod",false);var createZealot=__exp["createZealot"];exports.createZealot=createZealot;var createZealotMock=__exp["createZealotMock"];exports.createZealotMock=createZealotMock;
